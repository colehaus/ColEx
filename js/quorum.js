webpackJsonp([1],{13:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e,o=r(3),i=(e=o)&&e.__esModule?e:{default:e};var a=function(t){var n=t.length,r=i.default.min(t),e=i.default.max(t),o=Math.ceil(Math.sqrt(n)),a=(e-r)/o;if(e-r==0)return[[t[0],n]];for(var l=[],u=0;u<o;u++)l.push([r+u*a+a/2,0]);for(u=0;u<n;u++){l[t[u]===e?o-1:Math.floor((t[u]-r)/a)][1]++}for(u=0;u<o;u++)l[u][1]=l[u][1]/n/a;return l},l=function(t,n){for(var r=[],e=0,o=t.length;e<o;e++)r.push(t[e][n]);return r};n.default={twoDArrayCol:l,histogramCounts:a,sampleFunc:function(t,n,r){for(var e=(n-t)/200,o=[],i=t;i<n;i+=e)o.push([i,r(i)]);return o.push([n,r(n)]),o},xHistLims:function(t){var n=[].concat.apply([],t);return[i.default.min(n),i.default.max(n)]},yHistLims:function(t){for(var n=[],r=0,e=t.length;r<e;r++)n=n.concat(l(a(t[r]),1));return[.8*i.default.min(n),1.2*i.default.max(n)]},getHeight:function(t,n){for(var r=0;!(t>n[r][0]&&t<n[r+1][0]);)r++;return n[r][1]}}},23:function(t,n,r){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(e=(a=l.next()).done)&&(r.push(a.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(o)throw i}}return r}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r(24);var i=f(r(0)),a=f(r(3)),l=f(r(25)),u=f(r(13)),s=f(r(26));function f(t){return t&&t.__esModule?t:{default:t}}var c={font:{size:8},shadowSize:0,yaxis:{tickLength:5},xaxis:{tickLength:5},legend:{backgroundColor:"rgba(0, 0, 0, 0)",color:l.default.bodyText},grid:{backgroundColor:null,color:l.default.bodyText},colors:l.default.chroma.slice(1)},d=[-1,1],h=function(t,n,r){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=void 0,f=i.default.extend(!0,{},c),h=[];if(!0===r.log){var m={ticks:[0,.01,.1,1,10,100],transform:function(t){return Math.log(t+.001)},inverseTransform:function(t){return Math.exp(t)},tickDecimals:2};i.default.extend(f.xaxis,m),i.default.extend(f.yaxis,m)}var p=function(t){var n=o(t,2),e=n[0],i=n[1];return!0===r.log?{min:e/2,max:2*i}:{min:e,max:i}};if("object"===e(r.xlims)&&null!==r.xlims&&i.default.extend(f.xaxis,p(r.xlims)),"object"===e(r.ylims)&&null!==r.ylims&&i.default.extend(f.yaxis,p(r.ylims)),0!==l.length&&(l.forEach(function(t){h.push({data:t,color:"rgba(165, 170, 204, 0.7)"})}),h[0].label="Posterior Prediction"),0!==n.length){var g=(s=u.default.histogramCounts(n)).length>1?s[1][0]-s[0][0]:.05;h.push({data:s,bars:{show:!0,align:"center",barWidth:g},color:1})}if("number"==typeof r.compValue){var v=function(t,n){var r=a.default.mean(a.default.map(n,function(n){return n>=t?1:0}));return[1-r,r]}(r.compValue,n);h.push({data:[[r.compValue,0],[r.compValue,1/0]],label:(100*v[0]).toPrecision(3)+"% < "+r.compValue+" < "+(100*v[1]).toPrecision(3)+"%",lines:{lineWidth:2},color:2})}if(void 0!==r.di&&null!==r.di){var x=function(t,n){var e=o(n,2),i=e[0],a=e[1];h.push({data:[[i,u.default.getHeight(i===d[0]?a:i,s)],[a,u.default.getHeight(a===d[1]?i:a,s)]],label:t.toPrecision(2).slice(2)+"% "+r.di+" ("+i.toPrecision(3)+", "+a.toPrecision(3)+")",lines:{lineWidth:5},color:3})};"BI"===r.di?[.95,.99].forEach(function(t){x(t,function(t,n){n=n.sort(function(t,n){return t-n});var r=Math.floor(n.length*t),e=[n[n.length-1-r],d[1]],o=[d[0],n[r]];return-e[0]<o[1]?e:o}(t,n))}):[.95].forEach(function(t){x(t,function(t,n){n=n.sort(function(t,n){return t-n});for(var r=Math.floor(n.length*t),e=[a.default.min(n),a.default.max(n)],o=e[0],i=e[1],l=0,u=n.length-r;l<u;l++)if(n[l+r]-n[l]<i-o){var s=[n[l],n[l+r]];o=s[0],i=s[1]}return[o,i]}(t,n))})}if(void 0!==n.length&&0!==n.length){var b=a.default.mean(n);h.push({data:[[b,0]],label:"Mean: "+b.toPrecision(3),points:{show:!0},color:4})}return i.default.plot(t,h,f)},m=function(t){var n=t.length,r=n-1;if(n<30)alert("We need at least 30 votes for this calculation. You need at least "+(30-n)+" more.");else{var e=a.default.mean(t),l=a.default.stdev(t),s=[{data:u.default.sampleFunc(-1,1,function(t){return a.default.studentt.pdf((e-t)/l*Math.sqrt(n),r)}),lines:{show:!0},color:1},{data:[[e,0]],label:"Mean: "+e.toPrecision(3),points:{show:!0},color:4}];[.95,.99].forEach(function(t){var i=function(t){var o=a.default.studentt.inv(t,r)*l/Math.sqrt(n),i=a.default.studentt.pdf(a.default.studentt.inv(t,r),r);return e>0?[i,e-o,1/0]:[i,-1/0,e+o]}(t),u=o(i,3),f=u[0],c=u[1],d=u[2];s.push({data:[[c,f],[d,f]],label:t.toPrecision(2).slice(2)+"% CI ("+c.toPrecision(3)+", "+d.toPrecision(3)+")",lines:{lineWidth:5},color:3})}),(0,i.default)("#stat-out").show(),i.default.plot((0,i.default)("#freq > div"),s,c),(0,i.default)("progress").attr("value",1)}},p=function(t){var n=function(t){return t=t.replace(/[^-1234567890.]+$/,"").replace(/^[^-1234567890.]+/,""),a.default.map(t.split(/[^-1234567890.]+/),function(t){var n=parseFloat(t);if(isNaN(n))throw"NaN";return n<=0?.001:n>=1?.999:n})},r=void 0,e=void 0;try{r=n((0,i.default)("#data1").val()),e=n((0,i.default)("#data2").val())}catch(l){return alert("ERROR: Data not supplied for both groups or not formatted correctly."),null}var o=e.length-r.length;if(0!==o&&!0===t){var l=" Since we're supposed to pair data, that's bad.";return o>0?(alert("You have "+o+" more data points for Proposal 2 than for Proposal 1."+l),null):(alert("You have "+-o+" more data points for Proposal 1 than for Proposal 2."+l),null)}for(var u=[],s=Math.min(r.length,e.length),f=0;f<s;f++)u.push(e[f]-r[f]);return[r,e,u]},g=function(t){var n=p();if(void 0!==n){var r=u.default.yHistLims(n);h((0,i.default)("#preview1 > div"),n[0],{xlims:[0,1],ylims:r}),h((0,i.default)("#preview2 > div"),n[1],{xlims:[0,1],ylims:r}),h((0,i.default)("#diff > div"),n[2],{xlims:[-1,1]},t)}};(0,i.default)(function(){(0,i.default)(".act > .analyze").click(function(){var t,n,r=p(!0);void 0!==r&&((0,i.default)("#best").closest("li").hasClass("open")?(t=r[2],n=function(t){(0,i.default)("progress").attr("value",t)},(0,i.default)(".analyze").html("Re-analyze"),s.default.run_BEST(t,2e4,2e4,n,function(t){g(s.default.posterior_predictive_check(t)),n(.925),(0,i.default)("#stat-out").show(),h((0,i.default)("#mean > div"),u.default.twoDArrayCol(t,2),{di:"BI",comp:0,xlims:[-1,1]}),n(.95);var r=u.default.twoDArrayCol(t,0),e=u.default.twoDArrayCol(t,1),o=u.default.xHistLims([r,e]),a=u.default.yHistLims([r,e]);h((0,i.default)("#alpha > div"),r,{di:"HDI",xlims:o,ylims:a,log:!0}),n(.975),h((0,i.default)("#beta > div"),e,{di:"HDI",xlims:o,ylims:a,log:!0}),n(1)})):m(r[2]))}),(0,i.default)(".preview").click(function(){g()}),setTimeout(function(){g()});var t={grid:{show:!1},colors:[l.default.value[3]]};i.default.plot((0,i.default)("#non-norm"),[{bars:{show:!0},data:[[-2,4],[-1,1],[0,0],[1,1],[2,4]]}],t),i.default.plot((0,i.default)("#sym1"),[{bars:{show:!0},data:[[-2,1],[-1,0],[0,0],[1,2],[2,0]]}],t),i.default.plot((0,i.default)("#sym2"),[{bars:{show:!0},data:[[-2,0],[-1,0],[0,3],[1,0],[2,0]]}],t)})},24:function(t,n,r){r(0);var e=r(0);!function(t){t.color={},t.color.make=function(n,r,e,o){var i={};return i.r=n||0,i.g=r||0,i.b=e||0,i.a=null!=o?o:1,i.add=function(t,n){for(var r=0;r<t.length;++r)i[t.charAt(r)]+=n;return i.normalize()},i.scale=function(t,n){for(var r=0;r<t.length;++r)i[t.charAt(r)]*=n;return i.normalize()},i.toString=function(){return i.a>=1?"rgb("+[i.r,i.g,i.b].join(",")+")":"rgba("+[i.r,i.g,i.b,i.a].join(",")+")"},i.normalize=function(){function t(t,n,r){return n<t?t:n>r?r:n}return i.r=t(0,parseInt(i.r),255),i.g=t(0,parseInt(i.g),255),i.b=t(0,parseInt(i.b),255),i.a=t(0,i.a,1),i},i.clone=function(){return t.color.make(i.r,i.b,i.g,i.a)},i.normalize()},t.color.extract=function(n,r){var e;do{if(""!=(e=n.css(r).toLowerCase())&&"transparent"!=e)break;n=n.parent()}while(n.length&&!t.nodeName(n.get(0),"body"));return"rgba(0, 0, 0, 0)"==e&&(e="transparent"),t.color.parse(e)},t.color.parse=function(r){var e,o=t.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r))return o(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return o(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r))return o(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return o(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r))return o(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r))return o(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var i=t.trim(r).toLowerCase();return"transparent"==i?o(255,255,255,0):o((e=n[i]||[0,0,0])[0],e[1],e[2])};var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(e),function(t){var n=Object.prototype.hasOwnProperty;function r(n,r){var e=r.children("."+n)[0];if(null==e&&((e=document.createElement("canvas")).className=n,t(e).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(r),!e.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");e=window.G_vmlCanvasManager.initElement(e)}this.element=e;var o=this.context=e.getContext("2d"),i=window.devicePixelRatio||1,a=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.pixelRatio=i/a,this.resize(r.width(),r.height()),this.textContainer=null,this.text={},this._textCache={}}function e(n,e,o,i){var a=[],l={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},u=null,s=null,f=null,c=null,d=null,h=[],m=[],p={left:0,right:0,top:0,bottom:0},g=0,v=0,x={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},b=this;function y(t,n){n=[b].concat(n);for(var r=0;r<t.length;++r)t[r].apply(this,n)}function w(n){a=function(n){for(var r=[],e=0;e<n.length;++e){var o=t.extend(!0,{},l.series);null!=n[e].data?(o.data=n[e].data,delete n[e].data,t.extend(!0,o,n[e]),n[e].data=o.data):o.data=n[e],r.push(o)}return r}(n),function(){var n,r=a.length,e=-1;for(n=0;n<a.length;++n){var o=a[n].color;null!=o&&(r--,"number"==typeof o&&o>e&&(e=o))}r<=e&&(r=e+1);var i,u=[],s=l.colors,f=s.length,c=0;for(n=0;n<r;n++)i=t.color.parse(s[n%f]||"#666"),n%f==0&&n&&(c=c>=0?c<.5?-c-.2:0:-c),u[n]=i.scale("rgb",1+c);var d,p=0;for(n=0;n<a.length;++n){if(null==(d=a[n]).color?(d.color=u[p].toString(),++p):"number"==typeof d.color&&(d.color=u[d.color].toString()),null==d.lines.show){var g,v=!0;for(g in d)if(d[g]&&d[g].show){v=!1;break}v&&(d.lines.show=!0)}null==d.lines.zero&&(d.lines.zero=!!d.lines.fill),d.xaxis=S(h,k(d,"x")),d.yaxis=S(m,k(d,"y"))}}(),function(){var n,r,e,o,i,l,u,s,f,c,d,h,m=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,g=Number.MAX_VALUE;function v(t,n,r){n<t.datamin&&n!=-g&&(t.datamin=n),r>t.datamax&&r!=g&&(t.datamax=r)}for(t.each(M(),function(t,n){n.datamin=m,n.datamax=p,n.used=!1}),n=0;n<a.length;++n)(i=a[n]).datapoints={points:[]},y(x.processRawData,[i,i.data,i.datapoints]);for(n=0;n<a.length;++n){if(i=a[n],d=i.data,!(h=i.datapoints.format)){if((h=[]).push({x:!0,number:!0,required:!0}),h.push({y:!0,number:!0,required:!0}),i.bars.show||i.lines.show&&i.lines.fill){var b=!!(i.bars.show&&i.bars.zero||i.lines.show&&i.lines.zero);h.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:b}),i.bars.horizontal&&(delete h[h.length-1].y,h[h.length-1].x=!0)}i.datapoints.format=h}if(null==i.datapoints.pointsize){i.datapoints.pointsize=h.length,u=i.datapoints.pointsize,l=i.datapoints.points;var w=i.lines.show&&i.lines.steps;for(i.xaxis.used=i.yaxis.used=!0,r=e=0;r<d.length;++r,e+=u){var k=null==(c=d[r]);if(!k)for(o=0;o<u;++o)s=c[o],(f=h[o])&&(f.number&&null!=s&&(s=+s,isNaN(s)?s=null:s==1/0?s=g:s==-1/0&&(s=-g)),null==s&&(f.required&&(k=!0),null!=f.defaultValue&&(s=f.defaultValue))),l[e+o]=s;if(k)for(o=0;o<u;++o)null!=(s=l[e+o])&&!1!==(f=h[o]).autoscale&&(f.x&&v(i.xaxis,s,s),f.y&&v(i.yaxis,s,s)),l[e+o]=null;else if(w&&e>0&&null!=l[e-u]&&l[e-u]!=l[e]&&l[e-u+1]!=l[e+1]){for(o=0;o<u;++o)l[e+u+o]=l[e+o];l[e+1]=l[e-u+1],e+=u}}}}for(n=0;n<a.length;++n)i=a[n],y(x.processDatapoints,[i,i.datapoints]);for(n=0;n<a.length;++n){i=a[n],l=i.datapoints.points,u=i.datapoints.pointsize,h=i.datapoints.format;var T=m,S=m,q=p,A=p;for(r=0;r<l.length;r+=u)if(null!=l[r])for(o=0;o<u;++o)s=l[r+o],(f=h[o])&&!1!==f.autoscale&&s!=g&&s!=-g&&(f.x&&(s<T&&(T=s),s>q&&(q=s)),f.y&&(s<S&&(S=s),s>A&&(A=s)));if(i.bars.show){var C;switch(i.bars.align){case"left":C=0;break;case"right":C=-i.bars.barWidth;break;default:C=-i.bars.barWidth/2}i.bars.horizontal?(S+=C,A+=C+i.bars.barWidth):(T+=C,q+=C+i.bars.barWidth)}v(i.xaxis,T,q),v(i.yaxis,S,A)}t.each(M(),function(t,n){n.datamin==m&&(n.datamin=null),n.datamax==p&&(n.datamax=null)})}()}function k(t,n){var r=t[n+"axis"];return"object"==typeof r&&(r=r.n),"number"!=typeof r&&(r=1),r}function M(){return t.grep(h.concat(m),function(t){return t})}function T(t){var n,r,e={};for(n=0;n<h.length;++n)(r=h[n])&&r.used&&(e["x"+r.n]=r.c2p(t.left));for(n=0;n<m.length;++n)(r=m[n])&&r.used&&(e["y"+r.n]=r.c2p(t.top));return void 0!==e.x1&&(e.x=e.x1),void 0!==e.y1&&(e.y=e.y1),e}function S(n,r){return n[r-1]||(n[r-1]={n:r,direction:n==h?"x":"y",options:t.extend(!0,{},n==h?l.xaxis:l.yaxis)}),n[r-1]}function q(){F&&clearTimeout(F),f.unbind("mousemove",R),f.unbind("mouseleave",O),f.unbind("click",j),y(x.shutdown,[f])}function A(n){var r=n.labelWidth,e=n.labelHeight,o=n.options.position,i="x"===n.direction,a=n.options.tickLength,s=l.grid.axisMargin,f=l.grid.labelMargin,c=!0,d=!0,g=!0,v=!1;t.each(i?h:m,function(t,r){r&&(r.show||r.reserveSpace)&&(r===n?v=!0:r.options.position===o&&(v?d=!1:c=!1),v||(g=!1))}),d&&(s=0),null==a&&(a=g?"full":5),isNaN(+a)||(f+=+a),i?(e+=f,"bottom"==o?(p.bottom+=e+s,n.box={top:u.height-p.bottom,height:e}):(n.box={top:p.top+s,height:e},p.top+=e+s)):(r+=f,"left"==o?(n.box={left:p.left+s,width:r},p.left+=r+s):(p.right+=r+s,n.box={left:u.width-p.right,width:r})),n.position=o,n.tickLength=a,n.box.padding=f,n.innermost=c}function C(){var r,e=M(),o=l.grid.show;for(var i in p){var s=l.grid.margin||0;p[i]="number"==typeof s?s:s[i]||0}for(var i in y(x.processOffset,[p]),p)"object"==typeof l.grid.borderWidth?p[i]+=o?l.grid.borderWidth[i]:0:p[i]+=o?l.grid.borderWidth:0;if(t.each(e,function(t,n){var r=n.options;n.show=null==r.show?n.used:r.show,n.reserveSpace=null==r.reserveSpace?n.show:r.reserveSpace,function(t){var n=t.options,r=+(null!=n.min?n.min:t.datamin),e=+(null!=n.max?n.max:t.datamax),o=e-r;if(0==o){var i=0==e?1:.01;null==n.min&&(r-=i),null!=n.max&&null==n.min||(e+=i)}else{var a=n.autoscaleMargin;null!=a&&(null==n.min&&(r-=o*a)<0&&null!=t.datamin&&t.datamin>=0&&(r=0),null==n.max&&(e+=o*a)>0&&null!=t.datamax&&t.datamax<=0&&(e=0))}t.min=r,t.max=e}(n)}),o){var f=t.grep(e,function(t){return t.show||t.reserveSpace});for(t.each(f,function(n,r){!function(n){var r,e=n.options;r="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==n.direction?u.width:u.height);var o=(n.max-n.min)/r,i=-Math.floor(Math.log(o)/Math.LN10),a=e.tickDecimals;null!=a&&i>a&&(i=a);var l,s=Math.pow(10,-i),f=o/s;f<1.5?l=1:f<3?(l=2,f>2.25&&(null==a||i+1<=a)&&(l=2.5,++i)):l=f<7.5?5:10;l*=s,null!=e.minTickSize&&l<e.minTickSize&&(l=e.minTickSize);if(n.delta=o,n.tickDecimals=Math.max(0,null!=a?a:i),n.tickSize=e.tickSize||l,"time"==e.mode&&!n.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");n.tickGenerator||(n.tickGenerator=function(t){var n,r,e,o=[],i=(r=t.min,(e=t.tickSize)*Math.floor(r/e)),a=0,l=Number.NaN;do{n=l,l=i+a*t.tickSize,o.push(l),++a}while(l<t.max&&l!=n);return o},n.tickFormatter=function(t,n){var r=n.tickDecimals?Math.pow(10,n.tickDecimals):1,e=""+Math.round(t*r)/r;if(null!=n.tickDecimals){var o=e.indexOf("."),i=-1==o?0:e.length-o-1;if(i<n.tickDecimals)return(i?e:e+".")+(""+r).substr(1,n.tickDecimals-i)}return e});t.isFunction(e.tickFormatter)&&(n.tickFormatter=function(t,n){return""+e.tickFormatter(t,n)});if(null!=e.alignTicksWithAxis){var c=("x"==n.direction?h:m)[e.alignTicksWithAxis-1];if(c&&c.used&&c!=n){var d=n.tickGenerator(n);if(d.length>0&&(null==e.min&&(n.min=Math.min(n.min,d[0])),null==e.max&&d.length>1&&(n.max=Math.max(n.max,d[d.length-1]))),n.tickGenerator=function(t){var n,r,e=[];for(r=0;r<c.ticks.length;++r)n=(c.ticks[r].v-c.min)/(c.max-c.min),n=t.min+n*(t.max-t.min),e.push(n);return e},!n.mode&&null==e.tickDecimals){var p=Math.max(0,1-Math.floor(Math.log(n.delta)/Math.LN10)),g=n.tickGenerator(n);g.length>1&&/\..*0$/.test((g[1]-g[0]).toFixed(p))||(n.tickDecimals=p)}}}}(r),function(n){var r,e,o=n.options.ticks,i=[];null==o||"number"==typeof o&&o>0?i=n.tickGenerator(n):o&&(i=t.isFunction(o)?o(n):o);for(n.ticks=[],r=0;r<i.length;++r){var a=null,l=i[r];"object"==typeof l?(e=+l[0],l.length>1&&(a=l[1])):e=+l,null==a&&(a=n.tickFormatter(e,n)),isNaN(e)||n.ticks.push({v:e,label:a})}}(r),function(t,n){t.options.autoscaleMargin&&n.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,n[0].v)),null==t.options.max&&n.length>1&&(t.max=Math.max(t.max,n[n.length-1].v)))}(r,r.ticks),function(t){for(var n=t.options,r=t.ticks||[],e=n.labelWidth||0,o=n.labelHeight||0,i=e||("x"==t.direction?Math.floor(u.width/(r.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",l="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,s=n.font||"flot-tick-label tickLabel",f=0;f<r.length;++f){var c=r[f];if(c.label){var d=u.getTextInfo(l,c.label,s,null,i);e=Math.max(e,d.width),o=Math.max(o,d.height)}}t.labelWidth=n.labelWidth||e,t.labelHeight=n.labelHeight||o}(r)}),r=f.length-1;r>=0;--r)A(f[r]);!function(){var n,r=l.grid.minBorderMargin;if(null==r)for(r=0,n=0;n<a.length;++n)r=Math.max(r,2*(a[n].points.radius+a[n].points.lineWidth/2));var e={left:r,right:r,top:r,bottom:r};t.each(M(),function(t,n){n.reserveSpace&&n.ticks&&n.ticks.length&&("x"===n.direction?(e.left=Math.max(e.left,n.labelWidth/2),e.right=Math.max(e.right,n.labelWidth/2)):(e.bottom=Math.max(e.bottom,n.labelHeight/2),e.top=Math.max(e.top,n.labelHeight/2)))}),p.left=Math.ceil(Math.max(e.left,p.left)),p.right=Math.ceil(Math.max(e.right,p.right)),p.top=Math.ceil(Math.max(e.top,p.top)),p.bottom=Math.ceil(Math.max(e.bottom,p.bottom))}(),t.each(f,function(t,n){!function(t){"x"==t.direction?(t.box.left=p.left-t.labelWidth/2,t.box.width=u.width-p.left-p.right+t.labelWidth):(t.box.top=p.top-t.labelHeight/2,t.box.height=u.height-p.bottom-p.top+t.labelHeight)}(n)})}g=u.width-p.left-p.right,v=u.height-p.bottom-p.top,t.each(e,function(t,n){!function(t){function n(t){return t}var r,e,o=t.options.transform||n,i=t.options.inverseTransform;"x"==t.direction?(r=t.scale=g/Math.abs(o(t.max)-o(t.min)),e=Math.min(o(t.max),o(t.min))):(r=-(r=t.scale=v/Math.abs(o(t.max)-o(t.min))),e=Math.max(o(t.max),o(t.min))),t.p2c=o==n?function(t){return(t-e)*r}:function(t){return(o(t)-e)*r},t.c2p=i?function(t){return i(e+t/r)}:function(t){return e+t/r}}(n)}),o&&t.each(M(),function(t,n){var r,e,o,i,a,l=n.box,s=n.direction+"Axis "+n.direction+n.n+"Axis",f="flot-"+n.direction+"-axis flot-"+n.direction+n.n+"-axis "+s,c=n.options.font||"flot-tick-label tickLabel";if(u.removeText(f),n.show&&0!=n.ticks.length)for(var d=0;d<n.ticks.length;++d)!(r=n.ticks[d]).label||r.v<n.min||r.v>n.max||("x"==n.direction?(i="center",e=p.left+n.p2c(r.v),"bottom"==n.position?o=l.top+l.padding:(o=l.top+l.height-l.padding,a="bottom")):(a="middle",o=p.top+n.p2c(r.v),"left"==n.position?(e=l.left+l.width-l.padding,i="right"):e=l.left+l.padding),u.addText(f,e,o,r.label,c,null,null,i,a))}),function(){null!=l.legend.container?t(l.legend.container).html(""):n.find(".legend").remove();if(!l.legend.show)return;for(var r,e,o=[],i=[],u=!1,s=l.legend.labelFormatter,f=0;f<a.length;++f)(r=a[f]).label&&(e=s?s(r.label,r):r.label)&&i.push({label:e,color:r.color});if(l.legend.sorted)if(t.isFunction(l.legend.sorted))i.sort(l.legend.sorted);else if("reverse"==l.legend.sorted)i.reverse();else{var c="descending"!=l.legend.sorted;i.sort(function(t,n){return t.label==n.label?0:t.label<n.label!=c?1:-1})}for(var f=0;f<i.length;++f){var d=i[f];f%l.legend.noColumns==0&&(u&&o.push("</tr>"),o.push("<tr>"),u=!0),o.push('<td class="legendColorBox"><div style="border:1px solid '+l.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+d.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+d.label+"</td>")}u&&o.push("</tr>");if(0==o.length)return;var h='<table style="font-size:smaller;color:'+l.grid.color+'">'+o.join("")+"</table>";if(null!=l.legend.container)t(l.legend.container).html(h);else{var m="",g=l.legend.position,v=l.legend.margin;null==v[0]&&(v=[v,v]),"n"==g.charAt(0)?m+="top:"+(v[1]+p.top)+"px;":"s"==g.charAt(0)&&(m+="bottom:"+(v[1]+p.bottom)+"px;"),"e"==g.charAt(1)?m+="right:"+(v[0]+p.right)+"px;":"w"==g.charAt(1)&&(m+="left:"+(v[0]+p.left)+"px;");var x=t('<div class="legend">'+h.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(n);if(0!=l.legend.backgroundOpacity){var b=l.legend.backgroundColor;null==b&&((b=(b=l.grid.backgroundColor)&&"string"==typeof b?t.color.parse(b):t.color.extract(x,"background-color")).a=1,b=b.toString());var y=x.children();t('<div style="position:absolute;width:'+y.width()+"px;height:"+y.height()+"px;"+m+"background-color:"+b+';"> </div>').prependTo(x).css("opacity",l.legend.backgroundOpacity)}}}()}function z(){u.clear(),y(x.drawBackground,[c]);var t=l.grid;t.show&&t.backgroundColor&&(c.save(),c.translate(p.left,p.top),c.fillStyle=Q(l.grid.backgroundColor,v,0,"rgba(255, 255, 255, 0)"),c.fillRect(0,0,g,v),c.restore()),t.show&&!t.aboveData&&W();for(var n=0;n<a.length;++n)y(x.drawSeries,[c,a[n]]),P(a[n]);y(x.draw,[c]),t.show&&t.aboveData&&W(),u.render(),L()}function _(t,n){for(var r,e,o,i,a=M(),l=0;l<a.length;++l)if((r=a[l]).direction==n&&(t[i=n+r.n+"axis"]||1!=r.n||(i=n+"axis"),t[i])){e=t[i].from,o=t[i].to;break}if(t[i]||(r="x"==n?h[0]:m[0],e=t[n+"1"],o=t[n+"2"]),null!=e&&null!=o&&e>o){var u=e;e=o,o=u}return{from:e,to:o,axis:r}}function W(){var n,r,e,o;c.save(),c.translate(p.left,p.top);var i=l.grid.markings;if(i)for(t.isFunction(i)&&((r=b.getAxes()).xmin=r.xaxis.min,r.xmax=r.xaxis.max,r.ymin=r.yaxis.min,r.ymax=r.yaxis.max,i=i(r)),n=0;n<i.length;++n){var a=i[n],u=_(a,"x"),s=_(a,"y");if(null==u.from&&(u.from=u.axis.min),null==u.to&&(u.to=u.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),!(u.to<u.axis.min||u.from>u.axis.max||s.to<s.axis.min||s.from>s.axis.max)){u.from=Math.max(u.from,u.axis.min),u.to=Math.min(u.to,u.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max);var f=u.from===u.to,d=s.from===s.to;if(!f||!d)if(u.from=Math.floor(u.axis.p2c(u.from)),u.to=Math.floor(u.axis.p2c(u.to)),s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),f||d){var h=a.lineWidth||l.grid.markingsLineWidth,m=h%2?.5:0;c.beginPath(),c.strokeStyle=a.color||l.grid.markingsColor,c.lineWidth=h,f?(c.moveTo(u.to+m,s.from),c.lineTo(u.to+m,s.to)):(c.moveTo(u.from,s.to+m),c.lineTo(u.to,s.to+m)),c.stroke()}else c.fillStyle=a.color||l.grid.markingsColor,c.fillRect(u.from,s.to,u.to-u.from,s.from-s.to)}}r=M(),e=l.grid.borderWidth;for(var x=0;x<r.length;++x){var y,w,k,T,S=r[x],q=S.box,A=S.tickLength;if(S.show&&0!=S.ticks.length){for(c.lineWidth=1,"x"==S.direction?(y=0,w="full"==A?"top"==S.position?0:v:q.top-p.top+("top"==S.position?q.height:0)):(w=0,y="full"==A?"left"==S.position?0:g:q.left-p.left+("left"==S.position?q.width:0)),S.innermost||(c.strokeStyle=S.options.color,c.beginPath(),k=T=0,"x"==S.direction?k=g+1:T=v+1,1==c.lineWidth&&("x"==S.direction?w=Math.floor(w)+.5:y=Math.floor(y)+.5),c.moveTo(y,w),c.lineTo(y+k,w+T),c.stroke()),c.strokeStyle=S.options.tickColor,c.beginPath(),n=0;n<S.ticks.length;++n){var C=S.ticks[n].v;k=T=0,isNaN(C)||C<S.min||C>S.max||"full"==A&&("object"==typeof e&&e[S.position]>0||e>0)&&(C==S.min||C==S.max)||("x"==S.direction?(y=S.p2c(C),T="full"==A?-v:A,"top"==S.position&&(T=-T)):(w=S.p2c(C),k="full"==A?-g:A,"left"==S.position&&(k=-k)),1==c.lineWidth&&("x"==S.direction?y=Math.floor(y)+.5:w=Math.floor(w)+.5),c.moveTo(y,w),c.lineTo(y+k,w+T))}c.stroke()}}e&&(o=l.grid.borderColor,"object"==typeof e||"object"==typeof o?("object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),e.top>0&&(c.strokeStyle=o.top,c.lineWidth=e.top,c.beginPath(),c.moveTo(0-e.left,0-e.top/2),c.lineTo(g,0-e.top/2),c.stroke()),e.right>0&&(c.strokeStyle=o.right,c.lineWidth=e.right,c.beginPath(),c.moveTo(g+e.right/2,0-e.top),c.lineTo(g+e.right/2,v),c.stroke()),e.bottom>0&&(c.strokeStyle=o.bottom,c.lineWidth=e.bottom,c.beginPath(),c.moveTo(g+e.right,v+e.bottom/2),c.lineTo(0,v+e.bottom/2),c.stroke()),e.left>0&&(c.strokeStyle=o.left,c.lineWidth=e.left,c.beginPath(),c.moveTo(0-e.left/2,v+e.bottom),c.lineTo(0-e.left/2,0),c.stroke())):(c.lineWidth=e,c.strokeStyle=l.grid.borderColor,c.strokeRect(-e/2,-e/2,g+e,v+e))),c.restore()}function P(t){t.lines.show&&function(t){function n(t,n,r,e,o){var i=t.points,a=t.pointsize,l=null,u=null;c.beginPath();for(var s=a;s<i.length;s+=a){var f=i[s-a],d=i[s-a+1],h=i[s],m=i[s+1];if(null!=f&&null!=h){if(d<=m&&d<o.min){if(m<o.min)continue;f=(o.min-d)/(m-d)*(h-f)+f,d=o.min}else if(m<=d&&m<o.min){if(d<o.min)continue;h=(o.min-d)/(m-d)*(h-f)+f,m=o.min}if(d>=m&&d>o.max){if(m>o.max)continue;f=(o.max-d)/(m-d)*(h-f)+f,d=o.max}else if(m>=d&&m>o.max){if(d>o.max)continue;h=(o.max-d)/(m-d)*(h-f)+f,m=o.max}if(f<=h&&f<e.min){if(h<e.min)continue;d=(e.min-f)/(h-f)*(m-d)+d,f=e.min}else if(h<=f&&h<e.min){if(f<e.min)continue;m=(e.min-f)/(h-f)*(m-d)+d,h=e.min}if(f>=h&&f>e.max){if(h>e.max)continue;d=(e.max-f)/(h-f)*(m-d)+d,f=e.max}else if(h>=f&&h>e.max){if(f>e.max)continue;m=(e.max-f)/(h-f)*(m-d)+d,h=e.max}f==l&&d==u||c.moveTo(e.p2c(f)+n,o.p2c(d)+r),l=h,u=m,c.lineTo(e.p2c(h)+n,o.p2c(m)+r)}}c.stroke()}c.save(),c.translate(p.left,p.top),c.lineJoin="round";var r=t.lines.lineWidth,e=t.shadowSize;if(r>0&&e>0){c.lineWidth=e,c.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;n(t.datapoints,Math.sin(o)*(r/2+e/2),Math.cos(o)*(r/2+e/2),t.xaxis,t.yaxis),c.lineWidth=e/2,n(t.datapoints,Math.sin(o)*(r/2+e/4),Math.cos(o)*(r/2+e/4),t.xaxis,t.yaxis)}c.lineWidth=r,c.strokeStyle=t.color;var i=N(t.lines,t.color,0,v);i&&(c.fillStyle=i,function(t,n,r){var e=t.points,o=t.pointsize,i=Math.min(Math.max(0,r.min),r.max),a=0,l=!1,u=1,s=0,f=0;for(;!(o>0&&a>e.length+o);){var d=e[(a+=o)-o],h=e[a-o+u],m=e[a],p=e[a+u];if(l){if(o>0&&null!=d&&null==m){f=a,o=-o,u=2;continue}if(o<0&&a==s+o){c.fill(),l=!1,u=1,a=s=f+(o=-o);continue}}if(null!=d&&null!=m){if(d<=m&&d<n.min){if(m<n.min)continue;h=(n.min-d)/(m-d)*(p-h)+h,d=n.min}else if(m<=d&&m<n.min){if(d<n.min)continue;p=(n.min-d)/(m-d)*(p-h)+h,m=n.min}if(d>=m&&d>n.max){if(m>n.max)continue;h=(n.max-d)/(m-d)*(p-h)+h,d=n.max}else if(m>=d&&m>n.max){if(d>n.max)continue;p=(n.max-d)/(m-d)*(p-h)+h,m=n.max}if(l||(c.beginPath(),c.moveTo(n.p2c(d),r.p2c(i)),l=!0),h>=r.max&&p>=r.max)c.lineTo(n.p2c(d),r.p2c(r.max)),c.lineTo(n.p2c(m),r.p2c(r.max));else if(h<=r.min&&p<=r.min)c.lineTo(n.p2c(d),r.p2c(r.min)),c.lineTo(n.p2c(m),r.p2c(r.min));else{var g=d,v=m;h<=p&&h<r.min&&p>=r.min?(d=(r.min-h)/(p-h)*(m-d)+d,h=r.min):p<=h&&p<r.min&&h>=r.min&&(m=(r.min-h)/(p-h)*(m-d)+d,p=r.min),h>=p&&h>r.max&&p<=r.max?(d=(r.max-h)/(p-h)*(m-d)+d,h=r.max):p>=h&&p>r.max&&h<=r.max&&(m=(r.max-h)/(p-h)*(m-d)+d,p=r.max),d!=g&&c.lineTo(n.p2c(g),r.p2c(h)),c.lineTo(n.p2c(d),r.p2c(h)),c.lineTo(n.p2c(m),r.p2c(p)),m!=v&&(c.lineTo(n.p2c(m),r.p2c(p)),c.lineTo(n.p2c(v),r.p2c(p)))}}}}(t.datapoints,t.xaxis,t.yaxis));r>0&&n(t.datapoints,0,0,t.xaxis,t.yaxis);c.restore()}(t),t.bars.show&&function(t){var n;switch(c.save(),c.translate(p.left,p.top),c.lineWidth=t.bars.lineWidth,c.strokeStyle=t.color,t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}var r=t.bars.fill?function(n,r){return N(t.bars,t.color,n,r)}:null;(function(n,r,e,o,i,a){for(var l=n.points,u=n.pointsize,s=0;s<l.length;s+=u)null!=l[s]&&I(l[s],l[s+1],l[s+2],r,e,o,i,a,c,t.bars.horizontal,t.bars.lineWidth)})(t.datapoints,n,n+t.bars.barWidth,r,t.xaxis,t.yaxis),c.restore()}(t),t.points.show&&function(t){function n(t,n,r,e,o,i,a,l){for(var u=t.points,s=t.pointsize,f=0;f<u.length;f+=s){var d=u[f],h=u[f+1];null==d||d<i.min||d>i.max||h<a.min||h>a.max||(c.beginPath(),d=i.p2c(d),h=a.p2c(h)+e,"circle"==l?c.arc(d,h,n,0,o?Math.PI:2*Math.PI,!1):l(c,d,h,n,o),c.closePath(),r&&(c.fillStyle=r,c.fill()),c.stroke())}}c.save(),c.translate(p.left,p.top);var r=t.points.lineWidth,e=t.shadowSize,o=t.points.radius,i=t.points.symbol;0==r&&(r=1e-4);if(r>0&&e>0){var a=e/2;c.lineWidth=a,c.strokeStyle="rgba(0,0,0,0.1)",n(t.datapoints,o,null,a+a/2,!0,t.xaxis,t.yaxis,i),c.strokeStyle="rgba(0,0,0,0.2)",n(t.datapoints,o,null,a/2,!0,t.xaxis,t.yaxis,i)}c.lineWidth=r,c.strokeStyle=t.color,n(t.datapoints,o,N(t.points,t.color),0,!1,t.xaxis,t.yaxis,i),c.restore()}(t)}function I(t,n,r,e,o,i,a,l,u,s,f){var c,d,h,m,p,g,v,x,b;s?(x=g=v=!0,p=!1,m=n+e,h=n+o,(d=t)<(c=r)&&(b=d,d=c,c=b,p=!0,g=!1)):(p=g=v=!0,x=!1,c=t+e,d=t+o,(m=n)<(h=r)&&(b=m,m=h,h=b,x=!0,v=!1)),d<a.min||c>a.max||m<l.min||h>l.max||(c<a.min&&(c=a.min,p=!1),d>a.max&&(d=a.max,g=!1),h<l.min&&(h=l.min,x=!1),m>l.max&&(m=l.max,v=!1),c=a.p2c(c),h=l.p2c(h),d=a.p2c(d),m=l.p2c(m),i&&(u.fillStyle=i(h,m),u.fillRect(c,m,d-c,h-m)),f>0&&(p||g||v||x)&&(u.beginPath(),u.moveTo(c,h),p?u.lineTo(c,m):u.moveTo(c,m),v?u.lineTo(d,m):u.moveTo(d,m),g?u.lineTo(d,h):u.moveTo(d,h),x?u.lineTo(c,h):u.moveTo(c,h),u.stroke()))}function N(n,r,e,o){var i=n.fill;if(!i)return null;if(n.fillColor)return Q(n.fillColor,e,o,r);var a=t.color.parse(r);return a.a="number"==typeof i?i:.4,a.normalize(),a.toString()}b.setData=w,b.setupGrid=C,b.draw=z,b.getPlaceholder=function(){return n},b.getCanvas=function(){return u.element},b.getPlotOffset=function(){return p},b.width=function(){return g},b.height=function(){return v},b.offset=function(){var t=f.offset();return t.left+=p.left,t.top+=p.top,t},b.getData=function(){return a},b.getAxes=function(){var n={};return t.each(h.concat(m),function(t,r){r&&(n[r.direction+(1!=r.n?r.n:"")+"axis"]=r)}),n},b.getXAxes=function(){return h},b.getYAxes=function(){return m},b.c2p=T,b.p2c=function(t){var n,r,e,o={};for(n=0;n<h.length;++n)if((r=h[n])&&r.used&&(e="x"+r.n,null==t[e]&&1==r.n&&(e="x"),null!=t[e])){o.left=r.p2c(t[e]);break}for(n=0;n<m.length;++n)if((r=m[n])&&r.used&&(e="y"+r.n,null==t[e]&&1==r.n&&(e="y"),null!=t[e])){o.top=r.p2c(t[e]);break}return o},b.getOptions=function(){return l},b.highlight=B,b.unhighlight=G,b.triggerRedrawOverlay=L,b.pointOffset=function(t){return{left:parseInt(h[k(t,"x")-1].p2c(+t.x)+p.left,10),top:parseInt(m[k(t,"y")-1].p2c(+t.y)+p.top,10)}},b.shutdown=q,b.destroy=function(){q(),n.removeData("plot").empty(),a=[],l=null,u=null,s=null,f=null,c=null,d=null,h=[],m=[],x=null,E=[],b=null},b.resize=function(){var t=n.width(),r=n.height();u.resize(t,r),s.resize(t,r)},b.hooks=x,function(){for(var n={Canvas:r},e=0;e<i.length;++e){var o=i[e];o.init(b,n),o.options&&t.extend(!0,l,o.options)}}(),function(r){t.extend(!0,l,r),r&&r.colors&&(l.colors=r.colors);null==l.xaxis.color&&(l.xaxis.color=t.color.parse(l.grid.color).scale("a",.22).toString());null==l.yaxis.color&&(l.yaxis.color=t.color.parse(l.grid.color).scale("a",.22).toString());null==l.xaxis.tickColor&&(l.xaxis.tickColor=l.grid.tickColor||l.xaxis.color);null==l.yaxis.tickColor&&(l.yaxis.tickColor=l.grid.tickColor||l.yaxis.color);null==l.grid.borderColor&&(l.grid.borderColor=l.grid.color);null==l.grid.tickColor&&(l.grid.tickColor=t.color.parse(l.grid.color).scale("a",.22).toString());var e,o,i,a=n.css("font-size"),u=a?+a.replace("px",""):13,s={style:n.css("font-style"),size:Math.round(.8*u),variant:n.css("font-variant"),weight:n.css("font-weight"),family:n.css("font-family")};for(i=l.xaxes.length||1,e=0;e<i;++e)(o=l.xaxes[e])&&!o.tickColor&&(o.tickColor=o.color),o=t.extend(!0,{},l.xaxis,o),l.xaxes[e]=o,o.font&&(o.font=t.extend({},s,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));for(i=l.yaxes.length||1,e=0;e<i;++e)(o=l.yaxes[e])&&!o.tickColor&&(o.tickColor=o.color),o=t.extend(!0,{},l.yaxis,o),l.yaxes[e]=o,o.font&&(o.font=t.extend({},s,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));l.xaxis.noTicks&&null==l.xaxis.ticks&&(l.xaxis.ticks=l.xaxis.noTicks);l.yaxis.noTicks&&null==l.yaxis.ticks&&(l.yaxis.ticks=l.yaxis.noTicks);l.x2axis&&(l.xaxes[1]=t.extend(!0,{},l.xaxis,l.x2axis),l.xaxes[1].position="top",null==l.x2axis.min&&(l.xaxes[1].min=null),null==l.x2axis.max&&(l.xaxes[1].max=null));l.y2axis&&(l.yaxes[1]=t.extend(!0,{},l.yaxis,l.y2axis),l.yaxes[1].position="right",null==l.y2axis.min&&(l.yaxes[1].min=null),null==l.y2axis.max&&(l.yaxes[1].max=null));l.grid.coloredAreas&&(l.grid.markings=l.grid.coloredAreas);l.grid.coloredAreasColor&&(l.grid.markingsColor=l.grid.coloredAreasColor);l.lines&&t.extend(!0,l.series.lines,l.lines);l.points&&t.extend(!0,l.series.points,l.points);l.bars&&t.extend(!0,l.series.bars,l.bars);null!=l.shadowSize&&(l.series.shadowSize=l.shadowSize);null!=l.highlightColor&&(l.series.highlightColor=l.highlightColor);for(e=0;e<l.xaxes.length;++e)S(h,e+1).options=l.xaxes[e];for(e=0;e<l.yaxes.length;++e)S(m,e+1).options=l.yaxes[e];for(var f in x)l.hooks[f]&&l.hooks[f].length&&(x[f]=x[f].concat(l.hooks[f]));y(x.processOptions,[l])}(o),function(){n.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==n.css("position")&&n.css("position","relative");u=new r("flot-base",n),s=new r("flot-overlay",n),c=u.context,d=s.context,f=t(s.element).unbind();var e=n.data("plot");e&&(e.shutdown(),s.clear());n.data("plot",b)}(),w(e),C(),z(),function(){l.grid.hoverable&&(f.mousemove(R),f.bind("mouseleave",O));l.grid.clickable&&f.click(j);y(x.bindEvents,[f])}();var E=[],F=null;function R(t){l.grid.hoverable&&D("plothover",t,function(t){return 0!=t.hoverable})}function O(t){l.grid.hoverable&&D("plothover",t,function(t){return!1})}function j(t){D("plotclick",t,function(t){return 0!=t.clickable})}function D(t,r,e){var o=f.offset(),i=r.pageX-o.left-p.left,u=r.pageY-o.top-p.top,s=T({left:i,top:u});s.pageX=r.pageX,s.pageY=r.pageY;var c=function(t,n,r){var e,o,i,u=l.grid.mouseActiveRadius,s=u*u+1,f=null;for(e=a.length-1;e>=0;--e)if(r(a[e])){var c=a[e],d=c.xaxis,h=c.yaxis,m=c.datapoints.points,p=d.c2p(t),g=h.c2p(n),v=u/d.scale,x=u/h.scale;if(i=c.datapoints.pointsize,d.options.inverseTransform&&(v=Number.MAX_VALUE),h.options.inverseTransform&&(x=Number.MAX_VALUE),c.lines.show||c.points.show)for(o=0;o<m.length;o+=i){var b=m[o],y=m[o+1];if(null!=b&&!(b-p>v||b-p<-v||y-g>x||y-g<-x)){var w=Math.abs(d.p2c(b)-t),k=Math.abs(h.p2c(y)-n),M=w*w+k*k;M<s&&(s=M,f=[e,o/i])}}if(c.bars.show&&!f){var T,S;switch(c.bars.align){case"left":T=0;break;case"right":T=-c.bars.barWidth;break;default:T=-c.bars.barWidth/2}for(S=T+c.bars.barWidth,o=0;o<m.length;o+=i){b=m[o],y=m[o+1];var q=m[o+2];null!=b&&(a[e].bars.horizontal?p<=Math.max(q,b)&&p>=Math.min(q,b)&&g>=y+T&&g<=y+S:p>=b+T&&p<=b+S&&g>=Math.min(q,y)&&g<=Math.max(q,y))&&(f=[e,o/i])}}}return f?(e=f[0],o=f[1],i=a[e].datapoints.pointsize,{datapoint:a[e].datapoints.points.slice(o*i,(o+1)*i),dataIndex:o,series:a[e],seriesIndex:e}):null}(i,u,e);if(c&&(c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+o.left+p.left,10),c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+o.top+p.top,10)),l.grid.autoHighlight){for(var d=0;d<E.length;++d){var h=E[d];h.auto!=t||c&&h.series==c.series&&h.point[0]==c.datapoint[0]&&h.point[1]==c.datapoint[1]||G(h.series,h.point)}c&&B(c.series,c.datapoint,t)}n.trigger(t,[s,c])}function L(){var t=l.interaction.redrawOverlayInterval;-1!=t?F||(F=setTimeout(H,t)):H()}function H(){var t,n;for(F=null,d.save(),s.clear(),d.translate(p.left,p.top),t=0;t<E.length;++t)(n=E[t]).series.bars.show?X(n.series,n.point):Y(n.series,n.point);d.restore(),y(x.drawOverlay,[d])}function B(t,n,r){if("number"==typeof t&&(t=a[t]),"number"==typeof n){var e=t.datapoints.pointsize;n=t.datapoints.points.slice(e*n,e*(n+1))}var o=V(t,n);-1==o?(E.push({series:t,point:n,auto:r}),L()):r||(E[o].auto=!1)}function G(t,n){if(null==t&&null==n)return E=[],void L();if("number"==typeof t&&(t=a[t]),"number"==typeof n){var r=t.datapoints.pointsize;n=t.datapoints.points.slice(r*n,r*(n+1))}var e=V(t,n);-1!=e&&(E.splice(e,1),L())}function V(t,n){for(var r=0;r<E.length;++r){var e=E[r];if(e.series==t&&e.point[0]==n[0]&&e.point[1]==n[1])return r}return-1}function Y(n,r){var e=r[0],o=r[1],i=n.xaxis,a=n.yaxis,l="string"==typeof n.highlightColor?n.highlightColor:t.color.parse(n.color).scale("a",.5).toString();if(!(e<i.min||e>i.max||o<a.min||o>a.max)){var u=n.points.radius+n.points.lineWidth/2;d.lineWidth=u,d.strokeStyle=l;var s=1.5*u;e=i.p2c(e),o=a.p2c(o),d.beginPath(),"circle"==n.points.symbol?d.arc(e,o,s,0,2*Math.PI,!1):n.points.symbol(d,e,o,s,!1),d.closePath(),d.stroke()}}function X(n,r){var e,o="string"==typeof n.highlightColor?n.highlightColor:t.color.parse(n.color).scale("a",.5).toString(),i=o;switch(n.bars.align){case"left":e=0;break;case"right":e=-n.bars.barWidth;break;default:e=-n.bars.barWidth/2}d.lineWidth=n.bars.lineWidth,d.strokeStyle=o,I(r[0],r[1],r[2]||0,e,e+n.bars.barWidth,function(){return i},n.xaxis,n.yaxis,d,n.bars.horizontal,n.bars.lineWidth)}function Q(n,r,e,o){if("string"==typeof n)return n;for(var i=c.createLinearGradient(0,e,0,r),a=0,l=n.colors.length;a<l;++a){var u=n.colors[a];if("string"!=typeof u){var s=t.color.parse(o);null!=u.brightness&&(s=s.scale("rgb",u.brightness)),null!=u.opacity&&(s.a*=u.opacity),u=s.toString()}i.addColorStop(a/(l-1),u)}return i}}t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),r.prototype.resize=function(t,n){if(t<=0||n<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+n);var r=this.element,e=this.context,o=this.pixelRatio;this.width!=t&&(r.width=t*o,r.style.width=t+"px",this.width=t),this.height!=n&&(r.height=n*o,r.style.height=n+"px",this.height=n),e.restore(),e.save(),e.scale(o,o)},r.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.prototype.render=function(){var t=this._textCache;for(var r in t)if(n.call(t,r)){var e=this.getTextLayer(r),o=t[r];for(var i in e.hide(),o)if(n.call(o,i)){var a=o[i];for(var l in a)if(n.call(a,l)){for(var u,s=a[l].positions,f=0;u=s[f];f++)u.active?u.rendered||(e.append(u.element),u.rendered=!0):(s.splice(f--,1),u.rendered&&u.element.detach());0==s.length&&delete a[l]}}e.show()}},r.prototype.getTextLayer=function(n){var r=this.text[n];return null==r&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),r=this.text[n]=t("<div></div>").addClass(n).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),r},r.prototype.getTextInfo=function(n,r,e,o,i){var a,l,u,s;if(r=""+r,a="object"==typeof e?e.style+" "+e.variant+" "+e.weight+" "+e.size+"px/"+e.lineHeight+"px "+e.family:e,null==(l=this._textCache[n])&&(l=this._textCache[n]={}),null==(u=l[a])&&(u=l[a]={}),null==(s=u[r])){var f=t("<div></div>").html(r).css({position:"absolute","max-width":i,top:-9999}).appendTo(this.getTextLayer(n));"object"==typeof e?f.css({font:a,color:e.color}):"string"==typeof e&&f.addClass(e),s=u[r]={width:f.outerWidth(!0),height:f.outerHeight(!0),element:f,positions:[]},f.detach()}return s},r.prototype.addText=function(t,n,r,e,o,i,a,l,u){var s=this.getTextInfo(t,e,o,i,a),f=s.positions;"center"==l?n-=s.width/2:"right"==l&&(n-=s.width),"middle"==u?r-=s.height/2:"bottom"==u&&(r-=s.height);for(var c,d=0;c=f[d];d++)if(c.x==n&&c.y==r)return void(c.active=!0);c={active:!0,rendered:!1,element:f.length?s.element.clone():s.element,x:n,y:r},f.push(c),c.element.css({top:Math.round(r),left:Math.round(n),"text-align":l})},r.prototype.removeText=function(t,r,e,o,i,a){if(null==o){var l=this._textCache[t];if(null!=l)for(var u in l)if(n.call(l,u)){var s=l[u];for(var f in s)if(n.call(s,f))for(var c=s[f].positions,d=0;h=c[d];d++)h.active=!1}}else{var h;for(c=this.getTextInfo(t,o,i,a).positions,d=0;h=c[d];d++)h.x==r&&h.y==e&&(h.active=!1)}},t.plot=function(n,r,o){return new e(t(n),r,o,t.plot.plugins)},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(n,r){return this.each(function(){t.plot(this,n,r)})}}(e)},25:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e={hue:["#b5bae6","#d1abe6","#e6abd0","#e6bcb5","#dee2b5","#b5e2b5","#b5e2df"],chroma:["#d7d6e6","#b5bbe6","#919fe6","#6d84e6","#4769e6","#1d4de6"],value:["#b5bbe6","#9090b8","#6b6688","#443c56","#18121e"],bodyBack:"#eee"};e.bodyBackAlt=e.value[0],e.inactive=e.value[2],e.lightText=e.value[3],e.bodyText=e.value[4],e.noteBack=e.hue[4],e.menu=e.hue[5],n.default=e},26:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i(r(3)),o=i(r(13));function i(t){return t&&t.__esModule?t:{default:t}}var a,l,u,s=[-1,1],f=function(t,n,r,o){var i=o[0],a=(t-i)/(o[1]-i);return e.default.beta.pdf(a,n,r)};n.default={posterior_predictive_check:function(t){for(var n,r,e=t.length,i=[],a=0;a<10;a++){var l=t[(n=0,r=e,Math.floor(Math.random()*(r-n))+n)];i.push(o.default.sampleFunc(-1,1,function(t){return f(t,l[0],l[1],s)}))}return i},run_BEST:function(t,n,r,o,i){var c=function t(){if(h.running_asynch()){var r=1-h.samples_left()/n;o(.45+.45*r),u=setTimeout(t,0)}else i(h.chain())};clearTimeout(a),clearTimeout(l),clearTimeout(u);var d,h=function(t,r){for(var o=t.length,i=0,a=[],l=t,u=[],f=[],c=0;c<o;c++)u[c]=0,f[c]=0;var d=function(){var t;a.push(l.concat((t=l,s[0]+e.default.beta.mean(t[0],t[1])*(s[1]-s[0]))));for(var n=0;n<o;n++){var c=e.default.normal.sample(l[n],Math.exp(u[n])),d=l.slice();d[n]=c,Math.exp(r(d)-r(l))>Math.random()&&(f[n]++,l=d)}if(a.length%50==0)for(i++,n=0;n<o;n++)f[n]/50>.44?u[n]+=Math.min(.01,1/Math.sqrt(i)):f[n]/50<.44&&(u[n]-=Math.min(.01,1/Math.sqrt(i))),f[n]=0;return l},h=function(t){for(var n=0;n<t-1;n++)d();return d()},m=!1,p=n;return{chain:function(){return a},running_asynch:function(){return m},burn:function(t){var n=a.slice();h(t),a=n},n_samples:h,samples_left:function(){return p},n_samples_asynch:function t(n,r){return p=n,n>0?(m=!0,h(r),setTimeout(function(){t(n-r,r)},0)):(m=!1,null)}}}([1,1],(d=t,function(t){var n=t[0],r=t[1],o=0;o+=Math.log(e.default.exponential.pdf(n,1)),o+=Math.log(e.default.exponential.pdf(r,1));for(var i=0,a=d.length;i<a;i++)o+=Math.log(f(d[i],n,r,s));return o}));!function t(e){h.burn(500),e>0?(o(.45*(1-500*e/r)),a=setTimeout(function(){t(e-1)},0)):(l=h.n_samples_asynch(n,50),c())}(Math.ceil(r/500))}}},3:function(t,n,e){var o;o=function(){var t=function(t,n){var r=Array.prototype.concat,e=Array.prototype.slice,o=Object.prototype.toString;function a(n,r){var e=n>r?n:r;return t.pow(10,17-~~(t.log(e>0?e:-e)*t.LOG10E))}var l=Array.isArray||function(t){return"[object Array]"===o.call(t)};function u(t){return"[object Function]"===o.call(t)}function s(t){return"number"==typeof t&&t==t}function f(){return new f._init(arguments)}function c(){return 0}function d(){return 1}function h(t,n){return t===n?1:0}f.fn=f.prototype,f._init=function(t){if(l(t[0]))if(l(t[0][0])){u(t[1])&&(t[0]=f.map(t[0],t[1]));for(var n=0;n<t[0].length;n++)this[n]=t[0][n];this.length=t[0].length}else this[0]=u(t[1])?f.map(t[0],t[1]):t[0],this.length=1;else if(s(t[0]))this[0]=f.seq.apply(null,t),this.length=1;else{if(t[0]instanceof f)return f(t[0].toArray());this[0]=[],this.length=1}return this},f._init.prototype=f.prototype,f._init.constructor=f,f.utils={calcRdx:a,isArray:l,isFunction:u,isNumber:s,toVector:function(t){return r.apply([],t)}},f.extend=function(t){var n;if(1===arguments.length){for(n in t)f[n]=t[n];return this}for(var r=1;r<arguments.length;r++)for(n in arguments[r])t[n]=arguments[r][n];return t},f.rows=function(t){return t.length||1},f.cols=function(t){return t[0].length||1},f.dimensions=function(t){return{rows:f.rows(t),cols:f.cols(t)}},f.row=function(t,n){return l(n)?n.map(function(n){return f.row(t,n)}):t[n]},f.rowa=function(t,n){return f.row(t,n)},f.col=function(t,n){if(l(n)){var r=f.arange(t.length).map(function(t){return new Array(n.length)});return n.forEach(function(n,e){f.arange(t.length).forEach(function(o){r[o][e]=t[o][n]})}),r}for(var e=new Array(t.length),o=0;o<t.length;o++)e[o]=[t[o][n]];return e},f.cola=function(t,n){return f.col(t,n).map(function(t){return t[0]})},f.diag=function(t){for(var n=f.rows(t),r=new Array(n),e=0;e<n;e++)r[e]=[t[e][e]];return r},f.antidiag=function(t){for(var n=f.rows(t)-1,r=new Array(n),e=0;n>=0;n--,e++)r[e]=[t[e][n]];return r},f.transpose=function(t){var n,r,e,o,i=[];l(t[0])||(t=[t]),r=t.length,e=t[0].length;for(var a=0;a<e;a++){for(n=new Array(r),o=0;o<r;o++)n[o]=t[o][a];i.push(n)}return 1===i.length?i[0]:i},f.map=function(t,n,r){var e,o,i,a,u;for(l(t[0])||(t=[t]),o=t.length,i=t[0].length,a=r?t:new Array(o),e=0;e<o;e++)for(a[e]||(a[e]=new Array(i)),u=0;u<i;u++)a[e][u]=n(t[e][u],e,u);return 1===a.length?a[0]:a},f.cumreduce=function(t,n,r){var e,o,i,a,u;for(l(t[0])||(t=[t]),o=t.length,i=t[0].length,a=r?t:new Array(o),e=0;e<o;e++)for(a[e]||(a[e]=new Array(i)),i>0&&(a[e][0]=t[e][0]),u=1;u<i;u++)a[e][u]=n(a[e][u-1],t[e][u]);return 1===a.length?a[0]:a},f.alter=function(t,n){return f.map(t,n,!0)},f.create=function(t,n,r){var e,o=new Array(t);u(n)&&(r=n,n=t);for(var i=0;i<t;i++)for(o[i]=new Array(n),e=0;e<n;e++)o[i][e]=r(i,e);return o},f.zeros=function(t,n){return s(n)||(n=t),f.create(t,n,c)},f.ones=function(t,n){return s(n)||(n=t),f.create(t,n,d)},f.rand=function(n,r){return s(r)||(r=n),f.create(n,r,t.random)},f.identity=function(t,n){return s(n)||(n=t),f.create(t,n,h)},f.symmetric=function(t){var n,r,e=t.length;if(t.length!==t[0].length)return!1;for(n=0;n<e;n++)for(r=0;r<e;r++)if(t[r][n]!==t[n][r])return!1;return!0},f.clear=function(t){return f.alter(t,c)},f.seq=function(t,n,r,e){u(e)||(e=!1);var o,i=[],l=a(t,n),s=(n*l-t*l)/((r-1)*l),f=t;for(o=0;f<=n&&o<r;f=(t*l+s*l*++o)/l)i.push(e?e(f,o):f);return i},f.arange=function(t,r,e){var o=[];if(e=e||1,r===n&&(r=t,t=0),t===r||0===e)return[];if(t<r&&e<0)return[];if(t>r&&e>0)return[];if(e>0)for(i=t;i<r;i+=e)o.push(i);else for(i=t;i>r;i+=e)o.push(i);return o},f.slice=function(){function t(t,r,e,o){var i,a=[],l=t.length;if(r===n&&e===n&&o===n)return f.copy(t);if(r=r||0,e=e||t.length,r=r>=0?r:l+r,e=e>=0?e:l+e,o=o||1,r===e||0===o)return[];if(r<e&&o<0)return[];if(r>e&&o>0)return[];if(o>0)for(i=r;i<e;i+=o)a.push(t[i]);else for(i=r;i>e;i+=o)a.push(t[i]);return a}return function(n,r){if(s((r=r||{}).row))return s(r.col)?n[r.row][r.col]:t(f.rowa(n,r.row),(o=r.col||{}).start,o.end,o.step);if(s(r.col))return t(f.cola(n,r.col),(e=r.row||{}).start,e.end,e.step);var e=r.row||{},o=r.col||{};return t(n,e.start,e.end,e.step).map(function(n){return t(n,o.start,o.end,o.step)})}}(),f.sliceAssign=function(r,e,o){if(s(e.row)){if(s(e.col))return r[e.row][e.col]=o;e.col=e.col||{},e.col.start=e.col.start||0,e.col.end=e.col.end||r[0].length,e.col.step=e.col.step||1;var i=f.arange(e.col.start,t.min(r.length,e.col.end),e.col.step),a=e.row;return i.forEach(function(t,n){r[a][t]=o[n]}),r}if(s(e.col)){e.row=e.row||{},e.row.start=e.row.start||0,e.row.end=e.row.end||r.length,e.row.step=e.row.step||1;var l=f.arange(e.row.start,t.min(r[0].length,e.row.end),e.row.step),u=e.col;return l.forEach(function(t,n){r[t][u]=o[n]}),r}o[0].length===n&&(o=[o]),e.row.start=e.row.start||0,e.row.end=e.row.end||r.length,e.row.step=e.row.step||1,e.col.start=e.col.start||0,e.col.end=e.col.end||r[0].length,e.col.step=e.col.step||1;l=f.arange(e.row.start,t.min(r.length,e.row.end),e.row.step),i=f.arange(e.col.start,t.min(r[0].length,e.col.end),e.col.step);return l.forEach(function(t,n){i.forEach(function(e,i){r[t][e]=o[n][i]})}),r},f.diagonal=function(t){var n=f.zeros(t.length,t.length);return t.forEach(function(t,r){n[r][r]=t}),n},f.copy=function(t){return t.map(function(t){return s(t)?t:t.map(function(t){return t})})};var m=f.prototype;return m.length=0,m.push=Array.prototype.push,m.sort=Array.prototype.sort,m.splice=Array.prototype.splice,m.slice=Array.prototype.slice,m.toArray=function(){return this.length>1?e.call(this):e.call(this)[0]},m.map=function(t,n){return f(f.map(this,t,n))},m.cumreduce=function(t,n){return f(f.cumreduce(this,t,n))},m.alter=function(t){return f.alter(this,t),this},function(t){for(var n=0;n<t.length;n++)!function(t){m[t]=function(n){var r,e=this;return n?(setTimeout(function(){n.call(e,m[t].call(e))}),this):(r=f[t](this),l(r)?f(r):r)}}(t[n])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){m[t]=function(n,r){var e=this;return r?(setTimeout(function(){r.call(e,m[t].call(e,n))}),this):f(f[t](this,n))}}(t[n])}("row col".split(" ")),function(t){for(var n=0;n<t.length;n++)r=t[n],m[r]=new Function("return jStat(jStat."+r+".apply(null, arguments));");var r}("create zeros ones rand identity".split(" ")),f}(Math);return function(t,n){var r=t.utils.isFunction;function e(t,n){return t-n}function o(t,r,e){return n.max(r,n.min(t,e))}t.sum=function(t){for(var n=0,r=t.length;--r>=0;)n+=t[r];return n},t.sumsqrd=function(t){for(var n=0,r=t.length;--r>=0;)n+=t[r]*t[r];return n},t.sumsqerr=function(n){for(var r,e=t.mean(n),o=0,i=n.length;--i>=0;)o+=(r=n[i]-e)*r;return o},t.sumrow=function(t){for(var n=0,r=t.length;--r>=0;)n+=t[r];return n},t.product=function(t){for(var n=1,r=t.length;--r>=0;)n*=t[r];return n},t.min=function(t){for(var n=t[0],r=0;++r<t.length;)t[r]<n&&(n=t[r]);return n},t.max=function(t){for(var n=t[0],r=0;++r<t.length;)t[r]>n&&(n=t[r]);return n},t.unique=function(t){for(var n={},r=[],e=0;e<t.length;e++)n[t[e]]||(n[t[e]]=!0,r.push(t[e]));return r},t.mean=function(n){return t.sum(n)/n.length},t.meansqerr=function(n){return t.sumsqerr(n)/n.length},t.geomean=function(r){return n.pow(t.product(r),1/r.length)},t.median=function(t){var n=t.length,r=t.slice().sort(e);return 1&n?r[n/2|0]:(r[n/2-1]+r[n/2])/2},t.cumsum=function(n){return t.cumreduce(n,function(t,n){return t+n})},t.cumprod=function(n){return t.cumreduce(n,function(t,n){return t*n})},t.diff=function(t){for(var n=[],r=t.length,e=1;e<r;e++)n.push(t[e]-t[e-1]);return n},t.rank=function(t){for(var n=t.length,r=t.slice().sort(e),o=new Array(n),i=0;i<n;i++){var a=r.indexOf(t[i]),l=r.lastIndexOf(t[i]);if(a===l)var u=a;else u=(a+l)/2;o[i]=u+1}return o},t.mode=function(t){for(var n=t.length,r=t.slice().sort(e),o=1,i=0,a=0,l=[],u=0;u<n;u++)r[u]===r[u+1]?o++:(o>i?(l=[r[u]],i=o,a=0):o===i&&(l.push(r[u]),a++),o=1);return 0===a?l[0]:l},t.range=function(n){return t.max(n)-t.min(n)},t.variance=function(n,r){return t.sumsqerr(n)/(n.length-(r?1:0))},t.pooledvariance=function(n){return n.reduce(function(n,r){return n+t.sumsqerr(r)},0)/(n.reduce(function(t,n){return t+n.length},0)-n.length)},t.deviation=function(n){for(var r=t.mean(n),e=n.length,o=new Array(e),i=0;i<e;i++)o[i]=n[i]-r;return o},t.stdev=function(r,e){return n.sqrt(t.variance(r,e))},t.pooledstdev=function(r){return n.sqrt(t.pooledvariance(r))},t.meandev=function(r){for(var e=t.mean(r),o=[],i=r.length-1;i>=0;i--)o.push(n.abs(r[i]-e));return t.mean(o)},t.meddev=function(r){for(var e=t.median(r),o=[],i=r.length-1;i>=0;i--)o.push(n.abs(r[i]-e));return t.median(o)},t.coeffvar=function(n){return t.stdev(n)/t.mean(n)},t.quartiles=function(t){var r=t.length,o=t.slice().sort(e);return[o[n.round(r/4)-1],o[n.round(r/2)-1],o[n.round(3*r/4)-1]]},t.quantiles=function(t,r,i,a){var l,u,s,f,c=t.slice().sort(e),d=[r.length],h=t.length;void 0===i&&(i=3/8),void 0===a&&(a=3/8);for(var m=0;m<r.length;m++)f=o((u=h*(l=r[m])+(i+l*(1-i-a)))-(s=n.floor(o(u,1,h-1))),0,1),d[m]=(1-f)*c[s-1]+f*c[s];return d},t.percentile=function(t,n){var r=t.slice().sort(e),o=n*(r.length-1),i=parseInt(o),a=o-i;return i+1<r.length?r[i]*(1-a)+r[i+1]*a:r[i]},t.percentileOfScore=function(t,n,r){var e,o=0,i=t.length,a=!1;"strict"===r&&(a=!0);for(var l=0;l<i;l++)e=t[l],(a&&e<n||!a&&e<=n)&&o++;return o/i},t.histogram=function(r,e){for(var o=t.min(r),i=e||4,a=(t.max(r)-o)/i,l=r.length,u=(e=[],0);u<i;u++)e[u]=0;for(u=0;u<l;u++)e[n.min(n.floor((r[u]-o)/a),i-1)]+=1;return e},t.covariance=function(n,r){for(var e=t.mean(n),o=t.mean(r),i=n.length,a=new Array(i),l=0;l<i;l++)a[l]=(n[l]-e)*(r[l]-o);return t.sum(a)/(i-1)},t.corrcoeff=function(n,r){return t.covariance(n,r)/t.stdev(n,1)/t.stdev(r,1)},t.spearmancoeff=function(n,r){return n=t.rank(n),r=t.rank(r),t.corrcoeff(n,r)},t.stanMoment=function(r,e){for(var o=t.mean(r),i=t.stdev(r),a=r.length,l=0,u=0;u<a;u++)l+=n.pow((r[u]-o)/i,e);return l/r.length},t.skewness=function(n){return t.stanMoment(n,3)},t.kurtosis=function(n){return t.stanMoment(n,4)-3};var i=t.prototype;!function(n){for(var e=0;e<n.length;e++)!function(n){i[n]=function(e,o){var a=[],l=0,u=this;if(r(e)&&(o=e,e=!1),o)return setTimeout(function(){o.call(u,i[n].call(u,e))}),this;if(this.length>1){for(u=!0===e?this:this.transpose();l<u.length;l++)a[l]=t[n](u[l]);return a}return t[n](this[0],e)}}(n[e])}("cumsum cumprod".split(" ")),function(n){for(var e=0;e<n.length;e++)!function(n){i[n]=function(e,o){var a=[],l=0,u=this;if(r(e)&&(o=e,e=!1),o)return setTimeout(function(){o.call(u,i[n].call(u,e))}),this;if(this.length>1){for("sumrow"!==n&&(u=!0===e?this:this.transpose());l<u.length;l++)a[l]=t[n](u[l]);return!0===e?t[n](t.utils.toVector(a)):a}return t[n](this[0],e)}}(n[e])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(n){for(var e=0;e<n.length;e++)!function(n){i[n]=function(){var e=[],o=0,a=this,l=Array.prototype.slice.call(arguments);if(r(l[l.length-1])){var u=l[l.length-1],s=l.slice(0,l.length-1);return setTimeout(function(){u.call(a,i[n].apply(a,s))}),this}u=void 0;var f=function(r){return t[n].apply(a,[r].concat(l))};if(this.length>1){for(a=a.transpose();o<a.length;o++)e[o]=f(a[o]);return e}return f(this[0])}}(n[e])}("quantiles percentileOfScore".split(" "))}(t,Math),function(t,n){t.gammaln=function(t){var r,e,o,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],l=1.000000000190015;for(o=(e=r=t)+5.5,o-=(r+.5)*n.log(o);i<6;i++)l+=a[i]/++e;return n.log(2.5066282746310007*l/r)-o},t.gammafn=function(t){var r,e,o,i=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,u=0,s=0,f=0,c=t;if(c<=0){if(!(o=c%1+3.6e-16))return 1/0;l=(1&c?-1:1)*n.PI/n.sin(n.PI*o),c=1-c}e=c,r=c<1?c++:(c-=u=(0|c)-1)-1;for(var d=0;d<8;++d)f=(f+i[d])*r,s=s*r+a[d];if(o=f/s+1,e<c)o/=e;else if(e>c)for(d=0;d<u;++d)o*=c,c++;return l&&(o=l/o),o},t.gammap=function(n,r){return t.lowRegGamma(n,r)*t.gammafn(n)},t.lowRegGamma=function(r,e){var o,i=t.gammaln(r),a=r,l=1/r,u=l,s=e+1-r,f=1/1e-30,c=1/s,d=c,h=1,m=-~(8.5*n.log(r>=1?r:1/r)+.4*r+17);if(e<0||r<=0)return NaN;if(e<r+1){for(;h<=m;h++)l+=u*=e/++a;return l*n.exp(-e+r*n.log(e)-i)}for(;h<=m;h++)d*=(c=1/(c=(o=-h*(h-r))*c+(s+=2)))*(f=s+o/f);return 1-d*n.exp(-e+r*n.log(e)-i)},t.factorialln=function(n){return n<0?NaN:t.gammaln(n+1)},t.factorial=function(n){return n<0?NaN:t.gammafn(n+1)},t.combination=function(r,e){return r>170||e>170?n.exp(t.combinationln(r,e)):t.factorial(r)/t.factorial(e)/t.factorial(r-e)},t.combinationln=function(n,r){return t.factorialln(n)-t.factorialln(r)-t.factorialln(n-r)},t.permutation=function(n,r){return t.factorial(n)/t.factorial(n-r)},t.betafn=function(r,e){if(!(r<=0||e<=0))return r+e>170?n.exp(t.betaln(r,e)):t.gammafn(r)*t.gammafn(e)/t.gammafn(r+e)},t.betaln=function(n,r){return t.gammaln(n)+t.gammaln(r)-t.gammaln(n+r)},t.betacf=function(t,r,e){var o,i,a,l,u=1,s=r+e,f=r+1,c=r-1,d=1,h=1-s*t/f;for(n.abs(h)<1e-30&&(h=1e-30),l=h=1/h;u<=100&&(h=1+(i=u*(e-u)*t/((c+(o=2*u))*(r+o)))*h,n.abs(h)<1e-30&&(h=1e-30),d=1+i/d,n.abs(d)<1e-30&&(d=1e-30),l*=(h=1/h)*d,h=1+(i=-(r+u)*(s+u)*t/((r+o)*(f+o)))*h,n.abs(h)<1e-30&&(h=1e-30),d=1+i/d,n.abs(d)<1e-30&&(d=1e-30),l*=a=(h=1/h)*d,!(n.abs(a-1)<3e-7));u++);return l},t.gammapinv=function(r,e){var o,i,a,l,u,s,f=0,c=e-1,d=t.gammaln(e);if(r>=1)return n.max(100,e+100*n.sqrt(e));if(r<=0)return 0;for(e>1?(u=n.log(c),s=n.exp(c*(u-1)-d),l=r<.5?r:1-r,o=(2.30753+.27061*(i=n.sqrt(-2*n.log(l))))/(1+i*(.99229+.04481*i))-i,r<.5&&(o=-o),o=n.max(.001,e*n.pow(1-1/(9*e)-o/(3*n.sqrt(e)),3))):o=r<(i=1-e*(.253+.12*e))?n.pow(r/i,1/e):1-n.log(1-(r-i)/(1-i));f<12;f++){if(o<=0)return 0;if((o-=i=(a=(t.lowRegGamma(e,o)-r)/(i=e>1?s*n.exp(-(o-c)+c*(n.log(o)-u)):n.exp(-o+c*n.log(o)-d)))/(1-.5*n.min(1,a*((e-1)/o-1))))<=0&&(o=.5*(o+i)),n.abs(i)<1e-8*o)break}return o},t.erf=function(t){var r,e,o,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],l=a.length-1,u=!1,s=0,f=0;for(t<0&&(t=-t,u=!0),e=4*(r=2/(2+t))-2;l>0;l--)o=s,s=e*s-f+a[l],f=o;return i=r*n.exp(-t*t+.5*(a[0]+e*s)-f),u?i-1:1-i},t.erfc=function(n){return 1-t.erf(n)},t.erfcinv=function(r){var e,o,i,a,l=0;if(r>=2)return-100;if(r<=0)return 100;for(a=r<1?r:2-r,e=-.70711*((2.30753+.27061*(i=n.sqrt(-2*n.log(a/2))))/(1+i*(.99229+.04481*i))-i);l<2;l++)e+=(o=t.erfc(e)-a)/(1.1283791670955126*n.exp(-e*e)-e*o);return r<1?e:-e},t.ibetainv=function(r,e,o){var i,a,l,u,s,f,c,d,h,m,p=e-1,g=o-1,v=0;if(r<=0)return 0;if(r>=1)return 1;for(e>=1&&o>=1?(l=r<.5?r:1-r,f=(2.30753+.27061*(u=n.sqrt(-2*n.log(l))))/(1+u*(.99229+.04481*u))-u,r<.5&&(f=-f),c=(f*f-3)/6,d=2/(1/(2*e-1)+1/(2*o-1)),h=f*n.sqrt(c+d)/d-(1/(2*o-1)-1/(2*e-1))*(c+5/6-2/(3*d)),f=e/(e+o*n.exp(2*h))):(i=n.log(e/(e+o)),a=n.log(o/(e+o)),f=r<(u=n.exp(e*i)/e)/(h=u+(s=n.exp(o*a)/o))?n.pow(e*h*r,1/e):1-n.pow(o*h*(1-r),1/o)),m=-t.gammaln(e)-t.gammaln(o)+t.gammaln(e+o);v<10;v++){if(0===f||1===f)return f;if((f-=u=(s=(t.ibeta(f,e,o)-r)/(u=n.exp(p*n.log(f)+g*n.log(1-f)+m)))/(1-.5*n.min(1,s*(p/f-g/(1-f)))))<=0&&(f=.5*(f+u)),f>=1&&(f=.5*(f+u+1)),n.abs(u)<1e-8*f&&v>0)break}return f},t.ibeta=function(r,e,o){var i=0===r||1===r?0:n.exp(t.gammaln(e+o)-t.gammaln(e)-t.gammaln(o)+e*n.log(r)+o*n.log(1-r));return!(r<0||r>1)&&(r<(e+1)/(e+o+2)?i*t.betacf(r,e,o)/e:1-i*t.betacf(1-r,o,e)/o)},t.randn=function(r,e){var o,i,a,l,u;if(e||(e=r),r)return t.create(r,e,function(){return t.randn()});do{o=n.random(),i=1.7156*(n.random()-.5),u=(a=o-.449871)*a+(l=n.abs(i)+.386595)*(.196*l-.25472*a)}while(u>.27597&&(u>.27846||i*i>-4*n.log(o)*o*o));return i/o},t.randg=function(r,e,o){var i,a,l,u,s,f,c=r;if(o||(o=e),r||(r=1),e)return(f=t.zeros(e,o)).alter(function(){return t.randg(r)}),f;r<1&&(r+=1),i=r-1/3,a=1/n.sqrt(9*i);do{do{u=1+a*(s=t.randn())}while(u<=0);u*=u*u,l=n.random()}while(l>1-.331*n.pow(s,4)&&n.log(l)>.5*s*s+i*(1-u+n.log(u)));if(r==c)return i*u;do{l=n.random()}while(0===l);return n.pow(l,1/c)*i*u},function(n){for(var r=0;r<n.length;r++)!function(n){t.fn[n]=function(){return t(t.map(this,function(r){return t[n](r)}))}}(n[r])}("gammaln gammafn factorial factorialln".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){t.fn[n]=function(){return t(t[n].apply(null,arguments))}}(n[r])}("randn".split(" "))}(t,Math),function(t,n){function r(r,e,o){var i=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],a=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],l=.5*r;if(l>=8)return 1;var u,s=2*t.normal.cdf(l,0,1,1,0)-1;s=s>=n.exp(-50/o)?n.pow(s,o):0;for(var f=l,c=(8-l)/(u=r>3?2:3),d=f+c,h=0,m=o-1,p=1;p<=u;p++){for(var g=0,v=.5*(d+f),x=.5*(d-f),b=1;b<=12;b++){var y,w=v+x*(6<b?i[(y=12-b+1)-1]:-i[(y=b)-1]),k=w*w;if(k>60)break;var M=.5*(2*t.normal.cdf(w,0,1,1,0))-.5*(2*t.normal.cdf(w,r,1,1,0));M>=n.exp(-30/m)&&(g+=M=a[y-1]*n.exp(-.5*k)*n.pow(M,m))}h+=g*=2*x*o/n.sqrt(2*n.PI),f=d,d+=c}return(s+=h)<=n.exp(-30/e)?0:(s=n.pow(s,e))>=1?1:s}!function(n){for(var r=0;r<n.length;r++)!function(n){t[n]=function(t,n,r){return this instanceof arguments.callee?(this._a=t,this._b=n,this._c=r,this):new arguments.callee(t,n,r)},t.fn[n]=function(r,e,o){var i=t[n](r,e,o);return i.data=this,i},t[n].prototype.sample=function(r){var e=this._a,o=this._b,i=this._c;return r?t.alter(r,function(){return t[n].sample(e,o,i)}):t[n].sample(e,o,i)},function(r){for(var e=0;e<r.length;e++)!function(r){t[n].prototype[r]=function(e){var o=this._a,i=this._b,a=this._c;return e||0===e||(e=this.data),"number"!=typeof e?t.fn.map.call(e,function(e){return t[n][r](e,o,i,a)}):t[n][r](e,o,i,a)}}(r[e])}("pdf cdf inv".split(" ")),function(r){for(var e=0;e<r.length;e++)!function(r){t[n].prototype[r]=function(){return t[n][r](this._a,this._b,this._c)}}(r[e])}("mean median mode variance".split(" "))}(n[r])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(r,e,o){return r>1||r<0?0:1==e&&1==o?1:e<512&&o<512?n.pow(r,e-1)*n.pow(1-r,o-1)/t.betafn(e,o):n.exp((e-1)*n.log(r)+(o-1)*n.log(1-r)-t.betaln(e,o))},cdf:function(n,r,e){return n>1||n<0?1*(n>1):t.ibeta(n,r,e)},inv:function(n,r,e){return t.ibetainv(n,r,e)},mean:function(t,n){return t/(t+n)},median:function(n,r){return t.ibetainv(.5,n,r)},mode:function(t,n){return(t-1)/(t+n-2)},sample:function(n,r){var e=t.randg(n);return e/(e+t.randg(r))},variance:function(t,r){return t*r/(n.pow(t+r,2)*(t+r+1))}}),t.extend(t.centralF,{pdf:function(r,e,o){var i;return r<0?0:e<=2?0===r&&e<2?1/0:0===r&&2===e?1:1/t.betafn(e/2,o/2)*n.pow(e/o,e/2)*n.pow(r,e/2-1)*n.pow(1+e/o*r,-(e+o)/2):(i=e*r/(o+r*e),e*(o/(o+r*e))/2*t.binomial.pdf((e-2)/2,(e+o-2)/2,i))},cdf:function(n,r,e){return n<0?0:t.ibeta(r*n/(r*n+e),r/2,e/2)},inv:function(n,r,e){return e/(r*(1/t.ibetainv(n,r/2,e/2)-1))},mean:function(t,n){return n>2?n/(n-2):void 0},mode:function(t,n){return t>2?n*(t-2)/(t*(n+2)):void 0},sample:function(n,r){return 2*t.randg(n/2)/n/(2*t.randg(r/2)/r)},variance:function(t,n){if(!(n<=4))return 2*n*n*(t+n-2)/(t*(n-2)*(n-2)*(n-4))}}),t.extend(t.cauchy,{pdf:function(t,r,e){return e<0?0:e/(n.pow(t-r,2)+n.pow(e,2))/n.PI},cdf:function(t,r,e){return n.atan((t-r)/e)/n.PI+.5},inv:function(t,r,e){return r+e*n.tan(n.PI*(t-.5))},median:function(t,n){return t},mode:function(t,n){return t},sample:function(r,e){return t.randn()*n.sqrt(1/(2*t.randg(.5)))*e+r}}),t.extend(t.chisquare,{pdf:function(r,e){return r<0?0:0===r&&2===e?.5:n.exp((e/2-1)*n.log(r)-r/2-e/2*n.log(2)-t.gammaln(e/2))},cdf:function(n,r){return n<0?0:t.lowRegGamma(r/2,n/2)},inv:function(n,r){return 2*t.gammapinv(n,.5*r)},mean:function(t){return t},median:function(t){return t*n.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(n){return 2*t.randg(n/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,r){return t<0?0:r*n.exp(-r*t)},cdf:function(t,r){return t<0?0:1-n.exp(-r*t)},inv:function(t,r){return-n.log(1-t)/r},mean:function(t){return 1/t},median:function(t){return 1/t*n.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*n.log(n.random())},variance:function(t){return n.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(r,e,o){return r<0?0:0===r&&1===e?1/o:n.exp((e-1)*n.log(r)-r/o-t.gammaln(e)-e*n.log(o))},cdf:function(n,r,e){return n<0?0:t.lowRegGamma(r,n/e)},inv:function(n,r,e){return t.gammapinv(n,r)*e},mean:function(t,n){return t*n},mode:function(t,n){if(t>1)return(t-1)*n},sample:function(n,r){return t.randg(n)*r},variance:function(t,n){return t*n*n}}),t.extend(t.invgamma,{pdf:function(r,e,o){return r<=0?0:n.exp(-(e+1)*n.log(r)-o/r-t.gammaln(e)+e*n.log(o))},cdf:function(n,r,e){return n<=0?0:1-t.lowRegGamma(r,e/n)},inv:function(n,r,e){return e/t.gammapinv(1-n,r)},mean:function(t,n){return t>1?n/(t-1):void 0},mode:function(t,n){return n/(t+1)},sample:function(n,r){return r/t.randg(n)},variance:function(t,n){if(!(t<=2))return n*n/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,r,e){return 0===t&&1===r?e:1===t&&1===e?r:n.exp(n.log(r)+n.log(e)+(r-1)*n.log(t)+(e-1)*n.log(1-n.pow(t,r)))},cdf:function(t,r,e){return t<0?0:t>1?1:1-n.pow(1-n.pow(t,r),e)},inv:function(t,r,e){return n.pow(1-n.pow(1-t,1/e),1/r)},mean:function(n,r){return r*t.gammafn(1+1/n)*t.gammafn(r)/t.gammafn(1+1/n+r)},median:function(t,r){return n.pow(1-n.pow(2,-1/r),1/t)},mode:function(t,r){if(t>=1&&r>=1&&1!==t&&1!==r)return n.pow((t-1)/(t*r-1),1/t)},variance:function(t,n){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,r,e){return t<=0?0:n.exp(-n.log(t)-.5*n.log(2*n.PI)-n.log(e)-n.pow(n.log(t)-r,2)/(2*e*e))},cdf:function(r,e,o){return r<0?0:.5+.5*t.erf((n.log(r)-e)/n.sqrt(2*o*o))},inv:function(r,e,o){return n.exp(-1.4142135623730951*o*t.erfcinv(2*r)+e)},mean:function(t,r){return n.exp(t+r*r/2)},median:function(t,r){return n.exp(t)},mode:function(t,r){return n.exp(t-r*r)},sample:function(r,e){return n.exp(t.randn()*e+r)},variance:function(t,r){return(n.exp(r*r)-1)*n.exp(2*t+r*r)}}),t.extend(t.noncentralt,{pdf:function(r,e,o){return n.abs(o)<1e-14?t.studentt.pdf(r,e):n.abs(r)<1e-14?n.exp(t.gammaln((e+1)/2)-o*o/2-.5*n.log(n.PI*e)-t.gammaln(e/2)):e/r*(t.noncentralt.cdf(r*n.sqrt(1+2/e),e+2,o)-t.noncentralt.cdf(r,e,o))},cdf:function(r,e,o){if(n.abs(o)<1e-14)return t.studentt.cdf(r,e);var i=!1;r<0&&(i=!0,o=-o);for(var a=t.normal.cdf(-o,0,1),l=1e-14+1,u=l,s=r*r/(r*r+e),f=0,c=n.exp(-o*o/2),d=n.exp(-o*o/2-.5*n.log(2)-t.gammaln(1.5))*o;f<200||u>1e-14||l>1e-14;)u=l,f>0&&(c*=o*o/(2*f),d*=o*o/(2*(f+.5))),a+=.5*(l=c*t.beta.cdf(s,f+.5,e/2)+d*t.beta.cdf(s,f+1,e/2)),f++;return i?1-a:a}}),t.extend(t.normal,{pdf:function(t,r,e){return n.exp(-.5*n.log(2*n.PI)-n.log(e)-n.pow(t-r,2)/(2*e*e))},cdf:function(r,e,o){return.5*(1+t.erf((r-e)/n.sqrt(2*o*o)))},inv:function(n,r,e){return-1.4142135623730951*e*t.erfcinv(2*n)+r},mean:function(t,n){return t},median:function(t,n){return t},mode:function(t,n){return t},sample:function(n,r){return t.randn()*r+n},variance:function(t,n){return n*n}}),t.extend(t.pareto,{pdf:function(t,r,e){return t<r?0:e*n.pow(r,e)/n.pow(t,e+1)},cdf:function(t,r,e){return t<r?0:1-n.pow(r/t,e)},inv:function(t,r,e){return r/n.pow(1-t,1/e)},mean:function(t,r){if(!(r<=1))return r*n.pow(t,r)/(r-1)},median:function(t,r){return t*(r*n.SQRT2)},mode:function(t,n){return t},variance:function(t,r){if(!(r<=2))return t*t*r/(n.pow(r-1,2)*(r-2))}}),t.extend(t.studentt,{pdf:function(r,e){return e=e>1e100?1e100:e,1/(n.sqrt(e)*t.betafn(.5,e/2))*n.pow(1+r*r/e,-(e+1)/2)},cdf:function(r,e){var o=e/2;return t.ibeta((r+n.sqrt(r*r+e))/(2*n.sqrt(r*r+e)),o,o)},inv:function(r,e){var o=t.ibetainv(2*n.min(r,1-r),.5*e,.5);return o=n.sqrt(e*(1-o)/o),r>.5?o:-o},mean:function(t){return t>1?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(r){return t.randn()*n.sqrt(r/(2*t.randg(r/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,r,e){return t<0||r<0||e<0?0:e/r*n.pow(t/r,e-1)*n.exp(-n.pow(t/r,e))},cdf:function(t,r,e){return t<0?0:1-n.exp(-n.pow(t/r,e))},inv:function(t,r,e){return r*n.pow(-n.log(1-t),1/e)},mean:function(n,r){return n*t.gammafn(1+1/r)},median:function(t,r){return t*n.pow(n.log(2),1/r)},mode:function(t,r){return r<=1?0:t*n.pow((r-1)/r,1/r)},sample:function(t,r){return t*n.pow(-n.log(n.random()),1/r)},variance:function(r,e){return r*r*t.gammafn(1+2/e)-n.pow(t.weibull.mean(r,e),2)}}),t.extend(t.uniform,{pdf:function(t,n,r){return t<n||t>r?0:1/(r-n)},cdf:function(t,n,r){return t<n?0:t<r?(t-n)/(r-n):1},inv:function(t,n,r){return n+t*(r-n)},mean:function(t,n){return.5*(t+n)},median:function(n,r){return t.mean(n,r)},mode:function(t,n){throw new Error("mode is not yet implemented")},sample:function(t,r){return t/2+r/2+(r/2-t/2)*(2*n.random()-1)},variance:function(t,r){return n.pow(r-t,2)/12}}),t.extend(t.binomial,{pdf:function(r,e,o){return 0===o||1===o?e*o===r?1:0:t.combination(e,r)*n.pow(o,r)*n.pow(1-o,e-r)},cdf:function(n,r,e){var o=[],i=0;if(n<0)return 0;if(n<r){for(;i<=n;i++)o[i]=t.binomial.pdf(i,r,e);return t.sum(o)}return 1}}),t.extend(t.negbin,{pdf:function(r,e,o){return r===r>>>0&&(r<0?0:t.combination(r+e-1,e-1)*n.pow(1-o,r)*n.pow(o,e))},cdf:function(n,r,e){var o=0,i=0;if(n<0)return 0;for(;i<=n;i++)o+=t.negbin.pdf(i,r,e);return o}}),t.extend(t.hypgeom,{pdf:function(r,e,o,i){if(r!=r|0)return!1;if(r<0||r<o-(e-i))return 0;if(r>i||r>o)return 0;if(2*o>e)return 2*i>e?t.hypgeom.pdf(e-o-i+r,e,e-o,e-i):t.hypgeom.pdf(i-r,e,e-o,i);if(2*i>e)return t.hypgeom.pdf(o-r,e,o,e-i);if(o<i)return t.hypgeom.pdf(r,e,i,o);for(var a=1,l=0,u=0;u<r;u++){for(;a>1&&l<i;)a*=1-o/(e-l),l++;a*=(i-u)*(o-u)/((u+1)*(e-o-i+u+1))}for(;l<i;l++)a*=1-o/(e-l);return n.min(1,n.max(0,a))},cdf:function(r,e,o,i){if(r<0||r<o-(e-i))return 0;if(r>=i||r>=o)return 1;if(2*o>e)return 2*i>e?t.hypgeom.cdf(e-o-i+r,e,e-o,e-i):1-t.hypgeom.cdf(i-r-1,e,e-o,i);if(2*i>e)return 1-t.hypgeom.cdf(o-r-1,e,o,e-i);if(o<i)return t.hypgeom.cdf(r,e,i,o);for(var a=1,l=1,u=0,s=0;s<r;s++){for(;a>1&&u<i;){var f=1-o/(e-u);l*=f,a*=f,u++}a+=l*=(i-s)*(o-s)/((s+1)*(e-o-i+s+1))}for(;u<i;u++)a*=1-o/(e-u);return n.min(1,n.max(0,a))}}),t.extend(t.poisson,{pdf:function(r,e){return e<0||r%1!=0||r<0?0:n.pow(e,r)*n.exp(-e)/t.factorial(r)},cdf:function(n,r){var e=[],o=0;if(n<0)return 0;for(;o<=n;o++)e.push(t.poisson.pdf(o,r));return t.sum(e)},mean:function(t){return t},variance:function(t){return t},sample:function(t){var r=1,e=0,o=n.exp(-t);do{e++,r*=n.random()}while(r>o);return e-1}}),t.extend(t.triangular,{pdf:function(t,n,r,e){return r<=n||e<n||e>r?NaN:t<n||t>r?0:t<e?2*(t-n)/((r-n)*(e-n)):t===e?2/(r-n):2*(r-t)/((r-n)*(r-e))},cdf:function(t,r,e,o){return e<=r||o<r||o>e?NaN:t<=r?0:t>=e?1:t<=o?n.pow(t-r,2)/((e-r)*(o-r)):1-n.pow(e-t,2)/((e-r)*(e-o))},inv:function(t,r,e,o){return e<=r||o<r||o>e?NaN:t<=(o-r)/(e-r)?r+(e-r)*n.sqrt(t*((o-r)/(e-r))):r+(e-r)*(1-n.sqrt((1-t)*(1-(o-r)/(e-r))))},mean:function(t,n,r){return(t+n+r)/3},median:function(t,r,e){return e<=(t+r)/2?r-n.sqrt((r-t)*(r-e))/n.sqrt(2):e>(t+r)/2?t+n.sqrt((r-t)*(e-t))/n.sqrt(2):void 0},mode:function(t,n,r){return r},sample:function(t,r,e){var o=n.random();return o<(e-t)/(r-t)?t+n.sqrt(o*(r-t)*(e-t)):r-n.sqrt((1-o)*(r-t)*(r-e))},variance:function(t,n,r){return(t*t+n*n+r*r-t*n-t*r-n*r)/18}}),t.extend(t.arcsine,{pdf:function(t,r,e){return e<=r?NaN:t<=r||t>=e?0:2/n.PI*n.pow(n.pow(e-r,2)-n.pow(2*t-r-e,2),-.5)},cdf:function(t,r,e){return t<r?0:t<e?2/n.PI*n.asin(n.sqrt((t-r)/(e-r))):1},inv:function(t,r,e){return r+(.5-.5*n.cos(n.PI*t))*(e-r)},mean:function(t,n){return n<=t?NaN:(t+n)/2},median:function(t,n){return n<=t?NaN:(t+n)/2},mode:function(t,n){throw new Error("mode is not yet implemented")},sample:function(r,e){return(r+e)/2+(e-r)/2*n.sin(2*n.PI*t.uniform.sample(0,1))},variance:function(t,r){return r<=t?NaN:n.pow(r-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,r,e){return e<=0?0:n.exp(-n.abs(t-r)/e)/(2*e)},cdf:function(t,r,e){return e<=0?0:t<r?.5*n.exp((t-r)/e):1-.5*n.exp(-(t-r)/e)},mean:function(t,n){return t},median:function(t,n){return t},mode:function(t,n){return t},variance:function(t,n){return 2*n*n},sample:function(t,r){var e,o=n.random()-.5;return t-r*((e=o)/n.abs(e))*n.log(1-2*n.abs(o))}}),t.extend(t.tukey,{cdf:function(e,o,i){var a=o,l=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],u=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(e<=0)return 0;if(i<2||a<2)return NaN;if(!Number.isFinite(e))return 1;if(i>25e3)return r(e,1,a);var s,f=.5*i,c=f*n.log(i)-i*n.log(2)-t.gammaln(f),d=f-1,h=.25*i;s=i<=100?1:i<=800?.5:i<=5e3?.25:.125,c+=n.log(s);for(var m=0,p=1;p<=50;p++){for(var g=0,v=(2*p-1)*s,x=1;x<=16;x++){var b,y;if(8<x?(b=x-8-1,y=c+d*n.log(v+l[b]*s)-(l[b]*s+v)*h):(b=x-1,y=c+d*n.log(v-l[b]*s)+(l[b]*s-v)*h),y>=-30)g+=r(8<x?e*n.sqrt(.5*(l[b]*s+v)):e*n.sqrt(.5*(-l[b]*s+v)),1,a)*u[b]*n.exp(y)}if(p*s>=1&&g<=1e-14)break;m+=g}if(g>1e-14)throw new Error("tukey.cdf failed to converge");return m>1&&(m=1),m},inv:function(r,e,o){var i=e;if(o<2||i<2)return NaN;if(r<0||r>1)return NaN;if(0===r)return 0;if(1===r)return 1/0;var a,l=function(t,r,e){var o=.5-.5*t,i=n.sqrt(n.log(1/(o*o))),a=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);e<120&&(a+=(a*a*a+a)/e/4);var l=.8832-.2368*a;return e<120&&(l+=-1.214/e+1.208*a/e),a*(l*n.log(r-1)+1.4142)}(r,i,o),u=t.tukey.cdf(l,e,o)-r;a=u>0?n.max(0,l-1):l+1;for(var s,f=t.tukey.cdf(a,e,o)-r,c=1;c<50;c++){if(s=a-f*(a-l)/(f-u),u=f,l=a,s<0&&(s=0,f=-r),f=t.tukey.cdf(s,e,o)-r,a=s,n.abs(a-l)<1e-4)return s}throw new Error("tukey.inv failed to converge")}})}(t,Math),function(t,n){var e=Array.prototype.push,o=t.utils.isArray;function a(n){return o(n)||n instanceof t}t.extend({add:function(n,r){return a(r)?(a(r[0])||(r=[r]),t.map(n,function(t,n,e){return t+r[n][e]})):t.map(n,function(t){return t+r})},subtract:function(n,r){return a(r)?(a(r[0])||(r=[r]),t.map(n,function(t,n,e){return t-r[n][e]||0})):t.map(n,function(t){return t-r})},divide:function(n,r){return a(r)?(a(r[0])||(r=[r]),t.multiply(n,t.inv(r))):t.map(n,function(t){return t/r})},multiply:function(n,r){var e,o,i,l,u,s,f,c;if(void 0===n.length&&void 0===r.length)return n*r;if(u=n.length,s=n[0].length,f=t.zeros(u,i=a(r)?r[0].length:s),c=0,a(r)){for(;c<i;c++)for(e=0;e<u;e++){for(l=0,o=0;o<s;o++)l+=n[e][o]*r[o][c];f[e][c]=l}return 1===u&&1===c?f[0][0]:f}return t.map(n,function(t){return t*r})},outer:function(n,r){return t.multiply(n.map(function(t){return[t]}),[r])},dot:function(n,r){a(n[0])||(n=[n]),a(r[0])||(r=[r]);for(var e,o,i=1===n[0].length&&1!==n.length?t.transpose(n):n,l=1===r[0].length&&1!==r.length?t.transpose(r):r,u=[],s=0,f=i.length,c=i[0].length;s<f;s++){for(u[s]=[],e=0,o=0;o<c;o++)e+=i[s][o]*l[s][o];u[s]=e}return 1===u.length?u[0]:u},pow:function(r,e){return t.map(r,function(t){return n.pow(t,e)})},exp:function(r){return t.map(r,function(t){return n.exp(t)})},log:function(r){return t.map(r,function(t){return n.log(t)})},abs:function(r){return t.map(r,function(t){return n.abs(t)})},norm:function(t,r){var e=0,o=0;for(isNaN(r)&&(r=2),a(t[0])&&(t=t[0]);o<t.length;o++)e+=n.pow(n.abs(t[o]),r);return n.pow(e,1/r)},angle:function(r,e){return n.acos(t.dot(r,e)/(t.norm(r)*t.norm(e)))},aug:function(t,n){for(var r=[],o=0;o<t.length;o++)r.push(t[o].slice());for(o=0;o<r.length;o++)e.apply(r[o],n[o]);return r},inv:function(n){for(var r,e=n.length,o=n[0].length,i=t.identity(e,o),a=t.gauss_jordan(n,i),l=[],u=0;u<e;u++)for(l[u]=[],r=o;r<a[0].length;r++)l[u][r-o]=a[u][r];return l},det:function(t){var n,r=t.length,e=2*r,o=new Array(e),i=r-1,a=e-1,l=i-r+1,u=a,s=0,f=0;if(2===r)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;s<e;s++)o[s]=1;for(s=0;s<r;s++){for(n=0;n<r;n++)o[l<0?l+r:l]*=t[s][n],o[u<r?u+r:u]*=t[s][n],l++,u--;l=--i-r+1,u=--a}for(s=0;s<r;s++)f+=o[s];for(;s<e;s++)f-=o[s];return f},gauss_elimination:function(r,e){var o,i,a,l,u=0,s=0,f=r.length,c=r[0].length,d=1,h=0,m=[];o=(r=t.aug(r,e))[0].length;for(u=0;u<f;u++){for(i=r[u][u],s=u,l=u+1;l<c;l++)i<n.abs(r[l][u])&&(i=r[l][u],s=l);if(s!=u)for(l=0;l<o;l++)a=r[u][l],r[u][l]=r[s][l],r[s][l]=a;for(s=u+1;s<f;s++)for(d=r[s][u]/r[u][u],l=u;l<o;l++)r[s][l]=r[s][l]-d*r[u][l]}for(u=f-1;u>=0;u--){for(h=0,s=u+1;s<=f-1;s++)h+=m[s]*r[u][s];m[u]=(r[u][o-1]-h)/r[u][u]}return m},gauss_jordan:function(r,e){for(var o=t.aug(r,e),i=o.length,a=o[0].length,l=0,u=0;u<i;u++){for(var s=u,f=u+1;f<i;f++)n.abs(o[f][u])>n.abs(o[s][u])&&(s=f);var c=o[u];o[u]=o[s],o[s]=c;for(f=u+1;f<i;f++){l=o[f][u]/o[u][u];for(var d=u;d<a;d++)o[f][d]-=o[u][d]*l}}for(u=i-1;u>=0;u--){l=o[u][u];for(f=0;f<u;f++)for(d=a-1;d>u-1;d--)o[f][d]-=o[u][d]*o[f][u]/l;o[u][u]/=l;for(d=i;d<a;d++)o[u][d]/=l}return o},triaUpSolve:function(n,r){var e,o=n[0].length,i=t.zeros(1,o)[0],a=!1;return void 0!=r[0].length&&(r=r.map(function(t){return t[0]}),a=!0),t.arange(o-1,-1,-1).forEach(function(a){e=t.arange(a+1,o).map(function(t){return i[t]*n[a][t]}),i[a]=(r[a]-t.sum(e))/n[a][a]}),a?i.map(function(t){return[t]}):i},triaLowSolve:function(n,r){var e,o=n[0].length,i=t.zeros(1,o)[0],a=!1;return void 0!=r[0].length&&(r=r.map(function(t){return t[0]}),a=!0),t.arange(o).forEach(function(o){e=t.arange(o).map(function(t){return n[o][t]*i[t]}),i[o]=(r[o]-t.sum(e))/n[o][o]}),a?i.map(function(t){return[t]}):i},lu:function(n){var r,e=n.length,o=t.identity(e),a=t.zeros(n.length,n[0].length);return t.arange(e).forEach(function(t){a[0][t]=n[0][t]}),t.arange(1,e).forEach(function(l){t.arange(l).forEach(function(e){r=t.arange(e).map(function(t){return o[l][t]*a[t][e]}),o[l][e]=(n[l][e]-t.sum(r))/a[e][e]}),t.arange(l,e).forEach(function(e){r=t.arange(l).map(function(t){return o[l][t]*a[t][e]}),a[l][e]=n[i][e]-t.sum(r)})}),[o,a]},cholesky:function(r){var e,o=r.length,i=t.zeros(r.length,r[0].length);return t.arange(o).forEach(function(a){e=t.arange(a).map(function(t){return n.pow(i[a][t],2)}),i[a][a]=n.sqrt(r[a][a]-t.sum(e)),t.arange(a+1,o).forEach(function(n){e=t.arange(a).map(function(t){return i[a][t]*i[n][t]}),i[n][a]=(r[a][n]-t.sum(e))/i[a][a]})}),i},gauss_jacobi:function(r,e,o,i){for(var a,l,u,s,f=0,c=0,d=r.length,h=[],m=[],p=[];f<d;f++)for(h[f]=[],m[f]=[],p[f]=[],c=0;c<d;c++)f>c?(h[f][c]=r[f][c],m[f][c]=p[f][c]=0):f<c?(m[f][c]=r[f][c],h[f][c]=p[f][c]=0):(p[f][c]=r[f][c],h[f][c]=m[f][c]=0);for(u=t.multiply(t.multiply(t.inv(p),t.add(h,m)),-1),l=t.multiply(t.inv(p),e),a=o,s=t.add(t.multiply(u,o),l),f=2;n.abs(t.norm(t.subtract(s,a)))>i;)a=s,s=t.add(t.multiply(u,a),l),f++;return s},gauss_seidel:function(r,e,o,i){for(var a,l,u,s,f,c=0,d=r.length,h=[],m=[],p=[];c<d;c++)for(h[c]=[],m[c]=[],p[c]=[],a=0;a<d;a++)c>a?(h[c][a]=r[c][a],m[c][a]=p[c][a]=0):c<a?(m[c][a]=r[c][a],h[c][a]=p[c][a]=0):(p[c][a]=r[c][a],h[c][a]=m[c][a]=0);for(s=t.multiply(t.multiply(t.inv(t.add(p,h)),m),-1),u=t.multiply(t.inv(t.add(p,h)),e),l=o,f=t.add(t.multiply(s,o),u),c=2;n.abs(t.norm(t.subtract(f,l)))>i;)l=f,f=t.add(t.multiply(s,l),u),c+=1;return f},SOR:function(r,e,o,i,a){for(var l,u,s,f,c,d=0,h=r.length,m=[],p=[],g=[];d<h;d++)for(m[d]=[],p[d]=[],g[d]=[],l=0;l<h;l++)d>l?(m[d][l]=r[d][l],p[d][l]=g[d][l]=0):d<l?(p[d][l]=r[d][l],m[d][l]=g[d][l]=0):(g[d][l]=r[d][l],m[d][l]=p[d][l]=0);for(f=t.multiply(t.inv(t.add(g,t.multiply(m,a))),t.subtract(t.multiply(g,1-a),t.multiply(p,a))),s=t.multiply(t.multiply(t.inv(t.add(g,t.multiply(m,a))),e),a),u=o,c=t.add(t.multiply(f,o),s),d=2;n.abs(t.norm(t.subtract(c,u)))>i;)u=c,c=t.add(t.multiply(f,u),s),d++;return c},householder:function(r){for(var e,o,i,a,l=r.length,u=r[0].length,s=0,f=[],c=[];s<l-1;s++){for(e=0,a=s+1;a<u;a++)e+=r[a][s]*r[a][s];for(e=(r[s+1][s]>0?-1:1)*n.sqrt(e),o=n.sqrt((e*e-r[s+1][s]*e)/2),(f=t.zeros(l,1))[s+1][0]=(r[s+1][s]-e)/(2*o),i=s+2;i<l;i++)f[i][0]=r[i][s]/(2*o);c=t.subtract(t.identity(l,u),t.multiply(t.multiply(f,t.transpose(f)),2)),r=t.multiply(c,t.multiply(r,c))}return r},QR:function(){var e=t.sum,o=t.arange;return function(i){var a,l,u,s=i.length,f=i[0].length;for(i=t.copy(i),r=t.zeros(f,f),l=0;l<f;l++){for(r[l][l]=n.sqrt(e(o(s).map(function(t){return i[t][l]*i[t][l]}))),a=0;a<s;a++)i[a][l]=i[a][l]/r[l][l];for(u=l+1;u<f;u++)for(r[l][u]=e(o(s).map(function(t){return i[t][l]*i[t][u]})),a=0;a<s;a++)i[a][u]=i[a][u]-i[a][l]*r[l][u]}return[i,r]}}(),lstsq:function(n,r){return function(n,r){var e=!1;void 0===r[0].length&&(r=r.map(function(t){return[t]}),e=!0);var o=t.QR(n),i=o[0],a=o[1],l=n[0].length,u=t.slice(i,{col:{end:l}}),s=function(n){var r=(n=t.copy(n)).length,e=t.identity(r);return t.arange(r-1,-1,-1).forEach(function(r){t.sliceAssign(e,{row:r},t.divide(t.slice(e,{row:r}),n[r][r])),t.sliceAssign(n,{row:r},t.divide(t.slice(n,{row:r}),n[r][r])),t.arange(r).forEach(function(o){var i=t.multiply(n[o][r],-1),a=t.slice(n,{row:o}),l=t.multiply(t.slice(n,{row:r}),i);t.sliceAssign(n,{row:o},t.add(a,l));var u=t.slice(e,{row:o}),s=t.multiply(t.slice(e,{row:r}),i);t.sliceAssign(e,{row:o},t.add(u,s))})}),e}(t.slice(a,{row:{end:l}})),f=t.transpose(u);void 0===f[0].length&&(f=[f]);var c=t.multiply(t.multiply(s,f),r);return void 0===c.length&&(c=[[c]]),e?c.map(function(t){return t[0]}):c}}(),jacobi:function(r){for(var e,o,i,a,l,u,s=1,f=r.length,c=t.identity(f,f),d=[];1===s;){0,a=r[0][1],o=0,i=1;for(var h=0;h<f;h++)for(e=0;e<f;e++)h!=e&&a<n.abs(r[h][e])&&(a=n.abs(r[h][e]),o=h,i=e);l=r[o][o]===r[i][i]?r[o][i]>0?n.PI/4:-n.PI/4:n.atan(2*r[o][i]/(r[o][o]-r[i][i]))/2,(u=t.identity(f,f))[o][o]=n.cos(l),u[o][i]=-n.sin(l),u[i][o]=n.sin(l),u[i][i]=n.cos(l),c=t.multiply(c,u),r=t.multiply(t.multiply(t.inv(u),r),u),s=0;for(h=1;h<f;h++)for(e=1;e<f;e++)h!=e&&n.abs(r[h][e])>.001&&(s=1)}for(h=0;h<f;h++)d.push(r[h][h]);return[c,d]},rungekutta:function(t,n,r,e,o,i){var a,l,u;if(2===i)for(;e<=r;)o=o+((a=n*t(e,o))+(l=n*t(e+n,o+a)))/2,e+=n;if(4===i)for(;e<=r;)o=o+((a=n*t(e,o))+2*(l=n*t(e+n/2,o+a/2))+2*(u=n*t(e+n/2,o+l/2))+n*t(e+n,o+u))/6,e+=n;return o},romberg:function(t,r,e,o){for(var i,a,l,u,s,f=0,c=(e-r)/2,d=[],h=[],m=[];f<o/2;){for(s=t(r),l=r,u=0;l<=e;l+=c,u++)d[u]=l;for(i=d.length,l=1;l<i-1;l++)s+=(l%2!=0?4:2)*t(d[l]);s=c/3*(s+t(e)),m[f]=s,c/=2,f++}for(a=m.length,i=1;1!==a;){for(l=0;l<a-1;l++)h[l]=(n.pow(4,i)*m[l+1]-m[l])/(n.pow(4,i)-1);a=h.length,m=h,h=[],i++}return m},richardson:function(t,r,e,o){function i(t,n){for(var r,e=0,o=t.length;e<o;e++)t[e]===n&&(r=e);return r}t.length;for(var a,l,u,s,f,c=n.abs(e-t[i(t,e)+1]),d=0,h=[],m=[];o>=c;)a=i(t,e+o),l=i(t,e),h[d]=(r[a]-2*r[l]+r[2*l-a])/(o*o),o/=2,d++;for(s=h.length,u=1;1!=s;){for(f=0;f<s-1;f++)m[f]=(n.pow(4,u)*h[f+1]-h[f])/(n.pow(4,u)-1);s=m.length,h=m,m=[],u++}return h},simpson:function(t,n,r,e){for(var o,i=(r-n)/e,a=t(n),l=[],u=n,s=0,f=1;u<=r;u+=i,s++)l[s]=u;for(o=l.length;f<o-1;f++)a+=(f%2!=0?4:2)*t(l[f]);return i/3*(a+t(r))},hermite:function(t,n,r,e){for(var o,i=t.length,a=0,l=0,u=[],s=[],f=[],c=[];l<i;l++){for(u[l]=1,o=0;o<i;o++)l!=o&&(u[l]*=(e-t[o])/(t[l]-t[o]));for(s[l]=0,o=0;o<i;o++)l!=o&&(s[l]+=1/(t[l]-t[o]));f[l]=(1-2*(e-t[l])*s[l])*(u[l]*u[l]),c[l]=(e-t[l])*(u[l]*u[l]),a+=f[l]*n[l]+c[l]*r[l]}return a},lagrange:function(t,n,r){for(var e,o,i=0,a=0,l=t.length;a<l;a++){for(o=n[a],e=0;e<l;e++)a!=e&&(o*=(r-t[e])/(t[a]-t[e]));i+=o}return i},cubic_spline:function(n,r,e){for(var o,i,a=n.length,l=0,u=[],s=[],f=[],c=[],d=[],h=[];l<a-1;l++)c[l]=n[l+1]-n[l];f[0]=0;for(l=1;l<a-1;l++)f[l]=3/c[l]*(r[l+1]-r[l])-3/c[l-1]*(r[l]-r[l-1]);for(l=1;l<a-1;l++)u[l]=[],s[l]=[],u[l][l-1]=c[l-1],u[l][l]=2*(c[l-1]+c[l]),u[l][l+1]=c[l],s[l][0]=f[l];for(i=t.multiply(t.inv(u),s),o=0;o<a-1;o++)d[o]=(r[o+1]-r[o])/c[o]-c[o]*(i[o+1][0]+2*i[o][0])/3,h[o]=(i[o+1][0]-i[o][0])/(3*c[o]);for(o=0;o<a&&!(n[o]>e);o++);return r[o-=1]+(e-n[o])*d[o]+t.sq(e-n[o])*i[o]+(e-n[o])*t.sq(e-n[o])*h[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(n){var r,e,o,i,a,l=n.length,u=n[0].length,s=0,f=[],c=[],d=[],h=[],m=[],p=[],g=[];for(s=0;s<l;s++)f[s]=t.sum(n[s])/u;for(s=0;s<u;s++)for(m[s]=[],r=0;r<l;r++)m[s][r]=n[r][s]-f[r];m=t.transpose(m);for(s=0;s<l;s++)for(p[s]=[],r=0;r<l;r++)p[s][r]=t.dot([m[s]],[m[r]])/(u-1);a=(o=t.jacobi(p))[0],c=o[1],g=t.transpose(a);for(s=0;s<c.length;s++)for(r=s;r<c.length;r++)c[s]<c[r]&&(e=c[s],c[s]=c[r],c[r]=e,d=g[s],g[s]=g[r],g[r]=d);i=t.transpose(m);for(s=0;s<l;s++)for(h[s]=[],r=0;r<i.length;r++)h[s][r]=t.dot([g[s]],[i[r]]);return[n,c,g,h]}}),function(n){for(var r=0;r<n.length;r++)!function(n){t.fn[n]=function(r,e){var o=this;return e?(setTimeout(function(){e.call(o,t.fn[n].call(o,r))},15),this):"number"==typeof t[n](this,r)?t[n](this,r):t(t[n](this,r))}}(n[r])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(t,Math),function(t,n){var r=[].slice,e=t.utils.isNumber,o=t.utils.isArray;function i(t,r,e,o){if(t>1||e>1||t<=0||e<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(t*r+e*o)/(r+o);return(t-e)/n.sqrt(i*(1-i)*(1/r+1/o))}t.extend({zscore:function(){var n=r.call(arguments);return e(n[1])?(n[0]-n[1])/n[2]:(n[0]-t.mean(n[1]))/t.stdev(n[1],n[2])},ztest:function(){var e,i=r.call(arguments);return o(i[1])?(e=t.zscore(i[0],i[1],i[3]),1===i[2]?t.normal.cdf(-n.abs(e),0,1):2*t.normal.cdf(-n.abs(e),0,1)):i.length>2?(e=t.zscore(i[0],i[1],i[2]),1===i[3]?t.normal.cdf(-n.abs(e),0,1):2*t.normal.cdf(-n.abs(e),0,1)):(e=i[0],1===i[1]?t.normal.cdf(-n.abs(e),0,1):2*t.normal.cdf(-n.abs(e),0,1))}}),t.extend(t.fn,{zscore:function(t,n){return(t-this.mean())/this.stdev(n)},ztest:function(r,e,o){var i=n.abs(this.zscore(r,o));return 1===e?t.normal.cdf(-i,0,1):2*t.normal.cdf(-i,0,1)}}),t.extend({tscore:function(){var e=r.call(arguments);return 4===e.length?(e[0]-e[1])/(e[2]/n.sqrt(e[3])):(e[0]-t.mean(e[1]))/(t.stdev(e[1],!0)/n.sqrt(e[1].length))},ttest:function(){var o,i=r.call(arguments);return 5===i.length?(o=n.abs(t.tscore(i[0],i[1],i[2],i[3])),1===i[4]?t.studentt.cdf(-o,i[3]-1):2*t.studentt.cdf(-o,i[3]-1)):e(i[1])?(o=n.abs(i[0]),1==i[2]?t.studentt.cdf(-o,i[1]-1):2*t.studentt.cdf(-o,i[1]-1)):(o=n.abs(t.tscore(i[0],i[1])),1==i[2]?t.studentt.cdf(-o,i[1].length-1):2*t.studentt.cdf(-o,i[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/n.sqrt(this.cols()))},ttest:function(r,e){return 1===e?1-t.studentt.cdf(n.abs(this.tscore(r)),this.cols()-1):2*t.studentt.cdf(-n.abs(this.tscore(r)),this.cols()-1)}}),t.extend({anovafscore:function(){var e,o,i,a,l,u,s,f=r.call(arguments);if(1===f.length){l=new Array(f[0].length);for(var c=0;c<f[0].length;c++)l[c]=f[0][c];f=l}if(2===f.length)return t.variance(f[0])/t.variance(f[1]);o=new Array;for(c=0;c<f.length;c++)o=o.concat(f[c]);i=t.mean(o),e=0;for(c=0;c<f.length;c++)e+=f[c].length*n.pow(t.mean(f[c])-i,2);e/=f.length-1,u=0;for(c=0;c<f.length;c++)for(a=t.mean(f[c]),s=0;s<f[c].length;s++)u+=n.pow(f[c][s]-a,2);return e/(u/=o.length-f.length)},anovaftest:function(){var n,o,i,a=r.call(arguments);if(e(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);anovafscore=t.anovafscore(a),n=a.length-1,i=0;for(var l=0;l<a.length;l++)i+=a[l].length;return o=i-n-1,1-t.centralF.cdf(anovafscore,n,o)},ftest:function(n,r,e){return 1-t.centralF.cdf(n,r,e)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){for(var n=0,r=0;r<this.length;r++)n+=this[r].length;return t.ftest(this.anovafscore(),this.length-1,n-this.length)}}),t.extend({qscore:function(){var o,i,a,l,u,s=r.call(arguments);return e(s[0])?(o=s[0],i=s[1],a=s[2],l=s[3],u=s[4]):(o=t.mean(s[0]),i=t.mean(s[1]),a=s[0].length,l=s[1].length,u=s[2]),n.abs(o-i)/(u*n.sqrt((1/a+1/l)/2))},qtest:function(){var n,e=r.call(arguments);3===e.length?(n=e[0],e=e.slice(1)):7===e.length?(n=t.qscore(e[0],e[1],e[2],e[3],e[4]),e=e.slice(5)):(n=t.qscore(e[0],e[1],e[2]),e=e.slice(3));var o=e[0],i=e[1];return 1-t.tukey.cdf(n,i,o-i)},tukeyhsd:function(n){for(var r=t.pooledstdev(n),e=n.map(function(n){return t.mean(n)}),o=n.reduce(function(t,n){return t+n.length},0),i=[],a=0;a<n.length;++a)for(var l=a+1;l<n.length;++l){var u=t.qtest(e[a],e[l],n[a].length,n[l].length,r,o,n.length);i.push([[a,l],u])}return i}}),t.extend({normalci:function(){var e,o=r.call(arguments),i=new Array(2);return e=4===o.length?n.abs(t.normal.inv(o[1]/2,0,1)*o[2]/n.sqrt(o[3])):n.abs(t.normal.inv(o[1]/2,0,1)*t.stdev(o[2])/n.sqrt(o[2].length)),i[0]=o[0]-e,i[1]=o[0]+e,i},tci:function(){var e,o=r.call(arguments),i=new Array(2);return e=4===o.length?n.abs(t.studentt.inv(o[1]/2,o[3]-1)*o[2]/n.sqrt(o[3])):n.abs(t.studentt.inv(o[1]/2,o[2].length-1)*t.stdev(o[2],!0)/n.sqrt(o[2].length)),i[0]=o[0]-e,i[1]=o[0]+e,i},significant:function(t,n){return t<n}}),t.extend(t.fn,{normalci:function(n,r){return t.normalci(n,r,this.toArray())},tci:function(n,r){return t.tci(n,r,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(n,r,e,o){var a=i(n,r,e,o);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(n,r,e,o){var a=i(n,r,e,o);return t.ztest(a,2)}})}(t,Math),t.models=function(){function n(n,r){var e=n.length,o=r[0].length-1,i=e-o-1,a=t.lstsq(r,n),l=t.multiply(r,a.map(function(t){return[t]})).map(function(t){return t[0]}),u=t.subtract(n,l),s=t.mean(n),f=t.sum(l.map(function(t){return Math.pow(t-s,2)})),c=t.sum(n.map(function(t,n){return Math.pow(t-l[n],2)})),d=f+c;return{exog:r,endog:n,nobs:e,df_model:o,df_resid:i,coef:a,predict:l,resid:u,ybar:s,SST:d,SSE:f,SSR:c,R2:f/d}}function r(r){var e,o,i=(e=r.exog,o=e[0].length,t.arange(o).map(function(r){var i=t.arange(o).filter(function(t){return t!==r});return n(t.col(e,r).map(function(t){return t[0]}),t.col(e,i))})),a=Math.sqrt(r.SSR/r.df_resid),l=i.map(function(t){var n=t.SST,r=t.R2;return a/Math.sqrt(n*(1-r))}),u=r.coef.map(function(t,n){return(t-0)/l[n]}),s=u.map(function(n){var e=t.studentt.cdf(n,r.df_resid);return 2*(e>.5?1-e:e)}),f=t.studentt.inv(.975,r.df_resid),c=r.coef.map(function(t,n){var r=f*l[n];return[t-r,t+r]});return{se:l,t:u,p:s,sigmaHat:a,interval95:c}}return{ols:function(e,o){var i=n(e,o),a=r(i),l=function(n){var r,e,o,i=n.R2/n.df_model/((1-n.R2)/n.df_resid);return{F_statistic:i,pvalue:1-(r=i,e=n.df_model,o=n.df_resid,t.beta.cdf(r/(o/e+r),e/2,o/2))}}(i),u=1-(1-i.R2)*((i.nobs-1)/i.df_resid);return i.t=a,i.f=l,i.adjust_R2=u,i}}}(),t.jStat=t,t},t.exports=o()}},[23]);
//# sourceMappingURL=quorum.js.map